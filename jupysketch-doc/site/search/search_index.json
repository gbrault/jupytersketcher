{"config":{"lang":["en"],"min_search_length":3,"prebuild_index":false,"separator":"[\\s\\-]+"},"docs":[{"location":"","text":"Welcome to Jupyter Sketcher User Guide Home Page of jupytersketcher project Any time you need to make a sketch while solving a mechanical problem with a jupyter notebook, then PySketcher is your friend! A sketch capturing the \"dry friction case\" How it is structured: the composition hierarchy","title":"Home"},{"location":"#welcome-to-jupyter-sketcher-user-guide","text":"Home Page of jupytersketcher project Any time you need to make a sketch while solving a mechanical problem with a jupyter notebook, then PySketcher is your friend! A sketch capturing the \"dry friction case\" How it is structured: the composition hierarchy","title":"Welcome to Jupyter Sketcher User Guide"},{"location":"about/","text":"In summer 2020 I discovered Pysketcher as I was looking for a way to create Physics sketches for both design and simulation. My second requirement is to have sketches available in Jupyter notebooks (Lab or notebook server) Pysketch was developped in 2012 by Hans Petter Langtangen , see it in GitHub . At that time, Jupyter was emerging and Pysketch was developped as a standalone application. I just need to upgrade it to make it compatible with Jupyter: This is the inception of Jupyter Sketch project! Documentation Built with mkdocs 1.1.0 mkdocs-material 5.4.0","title":"About"},{"location":"gallerydoc/","text":"The notebook Dry Friction Car Pendulum Dry Friction Car Pendulum Spring Mass Spring Dashpot Mass Jet pump Spring Spring Dashpot Jet pump","title":"Gallery"},{"location":"learningbyexample/","text":"A language to describe a sketch Pysketcher initial version HPL Pysketcher enable sketch definition in python. HPL is showing the hierachical nature of sketches. This is implemented via the Composition function. One can further grasp this using the graphviz_dot function applied to discover the composition herarchy implemented as a graphviz image see The hierarchy of the \"friction\" sketch at the end of this page. Due to the hierarchical nature of sketches, it is quite straightforward to think about using yaml as the syntax for defining a sketch. Benefits are the following: Leaner sketch writing as only data relevant to the context needs to be defined A more straightforward reading for the same reason A more robust sketch definition The same set of rules is applied to generate a sketch No further python idiom is be intermingled as opposed to the case of python defined sketches Don't make me wrong! Data defined versus program defined there is no winner, it's just a matter of context Example This example provides the yaml content to define the Dry Friction case The final sketch An inclined plan (the A-B edge) supports a blue rectangle which is dragged down by gravity. The plan makes an angle \\theta \\theta with the ground level. Sketch implementation notebook includes a controller enabling the \\theta \\theta angle to change. The whole plan, including the body, can rotate arround point B. Support files The example we are developing now is based upon the \"Dry Friction mockup\" notebook the rendered html version of the notbook can be viewed here the notebook can be download here The yaml definition Sketcher language is defined as a yaml compliant file or string. The yaml file is a dictionnary of \"objects\". Objects can be regular python objects or sketcher objects. A skertcher object is composed as follow: a formula : it's a leaf object, like Rectangle, Circle, Line etc or a composition a style list : line or fill colors, line stroke... declared as a yaml hierarchy a transformation list : the defined object can be transformed using sketcher transformation: translation, rotation... As a general rule, a new object suppose all parameters to be defined before they are used to construct it. For example, you can create a circle if the center and the radius have been defined earlier in the file. The general layout of a sketcher file is as follow: Libraries, Construction Variables, Frame declaration of the libraries used by the objects further declared: at least pysketcher is mandatory various global variable which encompass the \"Construction\" variables which define the object main physical dimensions, positions... some \"actions\" corresponding to executable python sentences One mandatory action is the setting of the drawing frame (drawing_tool.set_coordinate_system): it must be declared before any other pysketcher object is used. Other use case of action is the setting of global parameters like default line color: (drawing_tool.set_linecolor('black')) for example this is stored in the head string thereafter The example uses the following objects libraries: setting the libraries used for this sketch constants: all the sketch dimensionning data frame: all the shapes or geometric objects which will be used by the other shapes Sketcher Objects Usually starting with the declaration of Pysketcher leaf objects (Geometry object like Line, Circle, Rectangle...) May be aggregated using the composition object Composition can be made of composition object (recursive behaviour) Grouping leafs and composition will be further used to apply transformation latter on (based on the \"physics\") The example uese three group of shapes The body object The plan object The friction main object The plan includes the body The friction includes the plan (that will be able to rotate as a group) and the ground (will stay fixed) Libraries libraries = \"\"\"\\ name: head shapes: libraries: [\"from math import tan, radians, sin, cos\",\"from pysketcher import *\"] \"\"\" Constants: Construction parameters constants = \"\"\"\\ name: constants shapes: fontsize: 18 # size of the characters g: 9.81 # constant gravity theta: 30.0 # inclined plane angle L: 10.0 # sketch sizing parameter a: 1.0 # xmin: 0.0 # sketech min Abscissa ymin: -3.0 # sketech min Ordinate rl: 2.0 # rectangle width rL: 1.0 # rectangle length \"\"\" Frame: core geometric parameters frame = \"\"\"\\ name: frame shapes: setframe: # sketch setup action: \"drawing_tool.set_coordinate_system(xmin=xmin-L/5, xmax=xmin+1.5*L,ymin=ymin, ymax=ymin+1.5*L,instruction_file='tmp_mpl_friction.py')\" setblackline: # default frame values and actions action: \"drawing_tool.set_linecolor('black')\" B: point(a+L,0) # wall right end A: point(a,tan(radians(theta))*L) # wall left end normal_vec: point(sin(radians(theta)),cos(radians(theta))) # Vector normal to wall tangent_vec: point(cos(radians(theta)),-sin(radians(theta))) # Vector tangent to wall help_line: Line(A,B) # wall line x: a + 3*L/10. # contact point Abscissa y: help_line(x=x) # contact point Ordinate contact: point(x, y) # contact point: middle of the rectangle bottom edge c: contact + rL/2*normal_vec \"\"\" The body object body = \"\"\"\\ name: body shapes: rectangle: formula: Rectangle(contact, rl, rL) style: linecolor: blue filled_curves: blue transform: [\"rotate(-theta, contact)\", \"translate(-rl/2*tangent_vec)\"] N: formula: Force(contact - rl*normal_vec, contact, r'$N$', text_pos='start') style: linecolor: black wheel: formula: \"Composition({'outer': rectangle})\" style: shadow: 1 mc: formula: Text(r'$c$', c) body: formula: \"Composition({'wheel': wheel, 'N': N, 'mc': mc})\" style: linecolor: black \"\"\" The plan object plan = \"\"\"\\ name: plan shapes: mB: formula: Text(r'$B$',B) mA: formula: Text(r'$A$', A) wall: formula: Wall(x=[A[0], B[0]], y=[A[1], B[1]], thickness=-0.25,transparent=False) style: linecolor: black x_const: formula: Line(contact, contact + point(0,4)) style: linestyle: dotted transform: rotate(-theta, contact) x_axis: formula: \"Axis(start=contact+ 2*rl*normal_vec, length=2*rl,label='$x$', rotation_angle=-theta)\" plan: formula: \"Composition({'body': body, 'inclined wall': wall, 'x start': x_const, 'x axis': x_axis, 'mA': mA, 'mB': mB})\" \"\"\" The friction sketch friction = \"\"\"\\ name: friction shapes: mg: formula: Gravity(c, rl, text='$Mg$') style: linecolor: black angle: formula: \"Arc_wText(r'$<bslash>theta$', center=B, radius=3, start_angle=180-theta, arc_angle=theta, fontsize=fontsize)\" style: linecolor: black linewidth: 1 ground: formula: Line((B[0]-L/10., 0), (B[0]-L/2.,0)) stlye: linecolor: black linestyle: dashed linewidth: 1 friction: formula: \"Composition({'plan': plan, 'ground': ground, 'mg': mg, 'angle': angle})\" \"\"\" Using the parser To parse the above example, the following code do the job. libraries, constants and frame must be used first as all the other bits needs one or more variable they defines. After, any other sketch can be parsed, the order just need to respect precedence (if one object uses another it must be parsed after) this setting allows naturally a modular definition of sketch objects The parser checks for syntax precedence and warns of any detected error. myfig = {} if sketchParse(libraries,myfig): if sketchParse(constants,myfig): if sketchParse(frame,myfig): if sketchParse(body,myfig): if sketchParse(plan,myfig): if sketchParse(friction,myfig): print(\"success\") \"friction\" sketch hierarchy","title":"Learning by Example"},{"location":"learningbyexample/#a-language-to-describe-a-sketch","text":"Pysketcher initial version HPL Pysketcher enable sketch definition in python. HPL is showing the hierachical nature of sketches. This is implemented via the Composition function. One can further grasp this using the graphviz_dot function applied to discover the composition herarchy implemented as a graphviz image see The hierarchy of the \"friction\" sketch at the end of this page. Due to the hierarchical nature of sketches, it is quite straightforward to think about using yaml as the syntax for defining a sketch. Benefits are the following: Leaner sketch writing as only data relevant to the context needs to be defined A more straightforward reading for the same reason A more robust sketch definition The same set of rules is applied to generate a sketch No further python idiom is be intermingled as opposed to the case of python defined sketches Don't make me wrong! Data defined versus program defined there is no winner, it's just a matter of context","title":"A language to describe a sketch"},{"location":"learningbyexample/#example","text":"This example provides the yaml content to define the Dry Friction case","title":"Example"},{"location":"learningbyexample/#the-final-sketch","text":"An inclined plan (the A-B edge) supports a blue rectangle which is dragged down by gravity. The plan makes an angle \\theta \\theta with the ground level. Sketch implementation notebook includes a controller enabling the \\theta \\theta angle to change. The whole plan, including the body, can rotate arround point B.","title":"The final sketch"},{"location":"learningbyexample/#support-files","text":"The example we are developing now is based upon the \"Dry Friction mockup\" notebook the rendered html version of the notbook can be viewed here the notebook can be download here","title":"Support files"},{"location":"learningbyexample/#the-yaml-definition","text":"Sketcher language is defined as a yaml compliant file or string. The yaml file is a dictionnary of \"objects\". Objects can be regular python objects or sketcher objects. A skertcher object is composed as follow: a formula : it's a leaf object, like Rectangle, Circle, Line etc or a composition a style list : line or fill colors, line stroke... declared as a yaml hierarchy a transformation list : the defined object can be transformed using sketcher transformation: translation, rotation... As a general rule, a new object suppose all parameters to be defined before they are used to construct it. For example, you can create a circle if the center and the radius have been defined earlier in the file. The general layout of a sketcher file is as follow: Libraries, Construction Variables, Frame declaration of the libraries used by the objects further declared: at least pysketcher is mandatory various global variable which encompass the \"Construction\" variables which define the object main physical dimensions, positions... some \"actions\" corresponding to executable python sentences One mandatory action is the setting of the drawing frame (drawing_tool.set_coordinate_system): it must be declared before any other pysketcher object is used. Other use case of action is the setting of global parameters like default line color: (drawing_tool.set_linecolor('black')) for example this is stored in the head string thereafter The example uses the following objects libraries: setting the libraries used for this sketch constants: all the sketch dimensionning data frame: all the shapes or geometric objects which will be used by the other shapes Sketcher Objects Usually starting with the declaration of Pysketcher leaf objects (Geometry object like Line, Circle, Rectangle...) May be aggregated using the composition object Composition can be made of composition object (recursive behaviour) Grouping leafs and composition will be further used to apply transformation latter on (based on the \"physics\") The example uese three group of shapes The body object The plan object The friction main object The plan includes the body The friction includes the plan (that will be able to rotate as a group) and the ground (will stay fixed)","title":"The yaml definition"},{"location":"learningbyexample/#libraries","text":"libraries = \"\"\"\\ name: head shapes: libraries: [\"from math import tan, radians, sin, cos\",\"from pysketcher import *\"] \"\"\"","title":"Libraries"},{"location":"learningbyexample/#constants-construction-parameters","text":"constants = \"\"\"\\ name: constants shapes: fontsize: 18 # size of the characters g: 9.81 # constant gravity theta: 30.0 # inclined plane angle L: 10.0 # sketch sizing parameter a: 1.0 # xmin: 0.0 # sketech min Abscissa ymin: -3.0 # sketech min Ordinate rl: 2.0 # rectangle width rL: 1.0 # rectangle length \"\"\"","title":"Constants: Construction parameters"},{"location":"learningbyexample/#frame-core-geometric-parameters","text":"frame = \"\"\"\\ name: frame shapes: setframe: # sketch setup action: \"drawing_tool.set_coordinate_system(xmin=xmin-L/5, xmax=xmin+1.5*L,ymin=ymin, ymax=ymin+1.5*L,instruction_file='tmp_mpl_friction.py')\" setblackline: # default frame values and actions action: \"drawing_tool.set_linecolor('black')\" B: point(a+L,0) # wall right end A: point(a,tan(radians(theta))*L) # wall left end normal_vec: point(sin(radians(theta)),cos(radians(theta))) # Vector normal to wall tangent_vec: point(cos(radians(theta)),-sin(radians(theta))) # Vector tangent to wall help_line: Line(A,B) # wall line x: a + 3*L/10. # contact point Abscissa y: help_line(x=x) # contact point Ordinate contact: point(x, y) # contact point: middle of the rectangle bottom edge c: contact + rL/2*normal_vec \"\"\"","title":"Frame: core geometric parameters"},{"location":"learningbyexample/#the-body-object","text":"body = \"\"\"\\ name: body shapes: rectangle: formula: Rectangle(contact, rl, rL) style: linecolor: blue filled_curves: blue transform: [\"rotate(-theta, contact)\", \"translate(-rl/2*tangent_vec)\"] N: formula: Force(contact - rl*normal_vec, contact, r'$N$', text_pos='start') style: linecolor: black wheel: formula: \"Composition({'outer': rectangle})\" style: shadow: 1 mc: formula: Text(r'$c$', c) body: formula: \"Composition({'wheel': wheel, 'N': N, 'mc': mc})\" style: linecolor: black \"\"\"","title":"The body object"},{"location":"learningbyexample/#the-plan-object","text":"plan = \"\"\"\\ name: plan shapes: mB: formula: Text(r'$B$',B) mA: formula: Text(r'$A$', A) wall: formula: Wall(x=[A[0], B[0]], y=[A[1], B[1]], thickness=-0.25,transparent=False) style: linecolor: black x_const: formula: Line(contact, contact + point(0,4)) style: linestyle: dotted transform: rotate(-theta, contact) x_axis: formula: \"Axis(start=contact+ 2*rl*normal_vec, length=2*rl,label='$x$', rotation_angle=-theta)\" plan: formula: \"Composition({'body': body, 'inclined wall': wall, 'x start': x_const, 'x axis': x_axis, 'mA': mA, 'mB': mB})\" \"\"\"","title":"The plan object"},{"location":"learningbyexample/#the-friction-sketch","text":"friction = \"\"\"\\ name: friction shapes: mg: formula: Gravity(c, rl, text='$Mg$') style: linecolor: black angle: formula: \"Arc_wText(r'$<bslash>theta$', center=B, radius=3, start_angle=180-theta, arc_angle=theta, fontsize=fontsize)\" style: linecolor: black linewidth: 1 ground: formula: Line((B[0]-L/10., 0), (B[0]-L/2.,0)) stlye: linecolor: black linestyle: dashed linewidth: 1 friction: formula: \"Composition({'plan': plan, 'ground': ground, 'mg': mg, 'angle': angle})\" \"\"\"","title":"The friction sketch"},{"location":"learningbyexample/#using-the-parser","text":"To parse the above example, the following code do the job. libraries, constants and frame must be used first as all the other bits needs one or more variable they defines. After, any other sketch can be parsed, the order just need to respect precedence (if one object uses another it must be parsed after) this setting allows naturally a modular definition of sketch objects The parser checks for syntax precedence and warns of any detected error. myfig = {} if sketchParse(libraries,myfig): if sketchParse(constants,myfig): if sketchParse(frame,myfig): if sketchParse(body,myfig): if sketchParse(plan,myfig): if sketchParse(friction,myfig): print(\"success\")","title":"Using the parser"},{"location":"learningbyexample/#friction-sketch-hierarchy","text":"","title":"\"friction\" sketch hierarchy"},{"location":"presentation/","text":"Problem solved When you need to address a mechanical design problem, sooner or later you are going to sketch a figure to capture problem's parameters and variables. The better documented, the easier the problem is to resolve for the designer, and the easier it is for others to understand how it is actually solved. What if you could capture this in the program solving the problem and use it as a repository for all definitions and physical variables? This is what jupytersketcher (name of pysketcher module) is proposing to solve. Of course, this makes even more sense when using Jupyter notebooks, because as a sketch not only the image of the solved problem can be displayed, but the dictionary of all variables processed in the notebook for solving physics is used to draw the image and at the same time to solve the equations of motion. jupytersketcher is another small step to help building reusable science. Getting Started You can use the binder link in jupytersketcher Github to make some experiments with pysketcher. pysketcher features Drawing sketches on a matplotlib widget for Jupyter Notebook server or Lab Defining a yaml based \"grammar\" to define sketches and simplify reuse Animating sketches within Jupyter notebooks Main benefit With Pysketcher for Jupyter mechanical notebooks, you get a single copy of the description of the problem which is as well a space to solve the system physics and display how it works","title":"Presentation"},{"location":"presentation/#problem-solved","text":"When you need to address a mechanical design problem, sooner or later you are going to sketch a figure to capture problem's parameters and variables. The better documented, the easier the problem is to resolve for the designer, and the easier it is for others to understand how it is actually solved. What if you could capture this in the program solving the problem and use it as a repository for all definitions and physical variables? This is what jupytersketcher (name of pysketcher module) is proposing to solve. Of course, this makes even more sense when using Jupyter notebooks, because as a sketch not only the image of the solved problem can be displayed, but the dictionary of all variables processed in the notebook for solving physics is used to draw the image and at the same time to solve the equations of motion. jupytersketcher is another small step to help building reusable science.","title":"Problem solved"},{"location":"presentation/#getting-started","text":"You can use the binder link in jupytersketcher Github to make some experiments with pysketcher.","title":"Getting Started"},{"location":"presentation/#pysketcher-features","text":"Drawing sketches on a matplotlib widget for Jupyter Notebook server or Lab Defining a yaml based \"grammar\" to define sketches and simplify reuse Animating sketches within Jupyter notebooks","title":"pysketcher features"},{"location":"presentation/#main-benefit","text":"With Pysketcher for Jupyter mechanical notebooks, you get a single copy of the description of the problem which is as well a space to solve the system physics and display how it works","title":"Main benefit"},{"location":"shapereference/","text":"List of Shapes Code to display shapes Line : defines a line providing start and end point Rectangle : defines a rectangle providing bottom left corner, x dimension, y dimension Triangle : defines a triangle providing three corner Circle : defines a circle proving center and radius Distance with text : defines a sizing mark with a label Text : defines a given text positionned at the provided point Cross : defines a cross positionned at the provided point Axis : defines an axis at the given point with a given label Arc : defines an Arc providing a center point, a radius, a starting angle and an angle (rotates clock-wise) Arc_wText : defines an arc with text positionned left (moving clock-wise) of arc half-way Arrow1 : defines a line with arrow(s) given starting and ending point and arrow termination(s) ->, \\<->, \\<- Force : defines an Indication of a force by an arrow and a text (symbol) Wall : defines an hached box given starting, ending point and thickness, filled with a pattern Curve : defines a general curve as a sequence of (x,y) coordinates Trajectory : defines a general curve as a sequence of Point (subclass Curve) Gravity : defines a downward-pointing gravity arrow with the symbol g or user given symbol. Moment : defines a Moment arrow with text given text, center and radius Text_wArrow : defines Text, but an arrow is drawn from the mid part of the text to some point arrow_tip Wheel : defines Hub and spokes Wheel given center, radius, spokes (default 10), inner_radius(default 1/5 of radius) Spring : defines a vertical spring, starting at start and with length as total vertical length Dashpot : defines a vertical dashpot of height total_length and start as bottom/starting point. Line home Defines a line providing start and end point Yaml name: line shapes: A: point(-5,-5) B: point(5,5) line: Line(A,B) Python A = point(-5,-5) B = point(5,5) line = Line(A,B) line.set_name(\"line\") Rectangle home Defines a rectangle providing bottom left corner, x dimension, y dimension Yaml name: rectangle shapes: L: 8 h: 5 p: point(-(L/2),-(h/2)) rectangle: Rectangle(p,L,h) Python L = 8 h = 5 p = point(-(L/2),-(h/2)) rectangle = Rectangle(p,L,h) rectangle.set_name(\"rectangle\") Circle home Defines a circle proving center and radius Yaml name: circle shapes: circle: Circle(point(0,0),5) Python circle = Circle(point(0,0),5) circle.set_name(\"circle\") Triangle home Defines a triangle providing three corner Yaml name: triangle shapes: L: 3.0 W: 4.0 triangle: Triangle(p1=(W/2,0), p2=(3*W/2,W/2), p3=(4*W/5.,L)) Python L = 3.0 W = 4.0 triangle = Triangle(p1=(W/2,0), p2=(3*W/2,W/2), p3=(4*W/5.,L)) triangle.set_name(\"triangle\") Distance with text home Defines a sizing mark with a label Yaml name: dwt shapes: fontsize: 14 t: r'$ 2\\pi R^2 $' # sample text dwt: Distance_wText((-4,0), (8, 5), t, fontsize) Python fontsize=14 t = r'$ 2\\pi R^2 $' # sample text dwt = Distance_wText((-4,0), (8, 5), t, fontsize) dwt.set_name(\"dwt\") Text home Defines a given text positionned at the provided point Yaml name: text shapes: text: Text(r'$c$', point(0,0)) Python text = Text(r'$c$', point(0,0)) text.set_name(\"text\") Cross home Defines a cross positionned at the provided point Yaml name: cross shapes: cross: Cross(point(0,0)) Python cross = Cross(point(1,0)) cross.set_name(\"cross\") Axis home Defines an axis at the given point with a given label Yaml name: axis shapes: axis: Axis((0,0), 5, 'x', rotation_angle=0) Python axis = Axis((0,0), 5, 'x', rotation_angle=0) axis.set_name(\"axis\") Arc home Defines an Arc providing a center point, a radius, a starting angle and an angle (rotates clock-wise) Yaml name: arc shapes: center: point(0,0) radius: 1 angle: 120 start_angle: 180-angle arc_angle: angle arc: Arc(center, radius, start_angle, arc_angle) Python center = point(0,0) radius = 1 angle = 120 start_angle = 180-angle arc_angle = angle arc = Arc(center, radius, start_angle, arc_angle) arc.set_name(\"arc\") Arc_wText home Defines an arc with text positionned left (moving clock-wise) of arc half-way Yaml name: arc_wtxt shapes: center: point(0,0) radius: 1 angle: 120 start_angle: 180-angle arc_angle: angle arc_wtxt: \"Arc_wText(r'$<bslash>theta$', center, radius, start_angle, arc_angle)\" Python center = point(0,0) radius = 1 angle = 120 start_angle = 180-angle arc_angle = angle arc_wtxt = Arc_wText(r'$\\theta$', center, radius, start_angle, arc_angle) arc_wtxt.set_name(\"arcwtxt\") Arrow1 home defines a line with arrow(s) given starting and ending point and arrow termination(s) ->, \\<->, \\<- Yaml name: arrow1 shapes: start: point(0,0) end: point(5,5) arrow1: Arrow1(start, end, style='<->') Python start = point(0,0) end = point(5,5) arrow1 = Arrow1(start, end, style='<->') arrow1.set_name(\"arrow1\") Force home defines an Indication of a force by an arrow and a text (symbol) Yaml name: force shapes: x: 0 y: 0 contact: point(x, y) vector: point(-3,-5) force: Force(contact - vector, contact, r'$Force$', text_pos='start') Python x = 0 y = 0 contact = point(x, y) vector = point(-3,-5) force = Force(contact - vector, contact, r'$Force$', text_pos='start') force.set_name(\"force\") Wall home defines an hached box given starting, ending point and thickness, filled with a pattern Yaml name: wall shapes: theta: 30 L: 8 B: point(L-4,-2) # wall right end A: point(-4,tan(radians(theta))*L-2) # wall left end wall: formula: Wall(x=[A[0], B[0]], y=[A[1], B[1]], thickness=-0.5,transparent=False) style: linecolor: black Python theta = 30 L = 8 B = point(L-4,-2) # wall right end A = point(-4,tan(radians(theta))*L-2) # wall left end wall= Wall(x=[A[0], B[0]], y=[A[1], B[1]], thickness=-0.5,transparent=False) wall.set_linecolor('black') wall.set_name(\"wall\") Curve home defines a general curve as a sequence of (x,y) coordinates Yaml curve=\"\"\"\\ name: curve shapes: N: 100 x: np.linspace(-2.0, 2.0, N) y: x**3 curve: Curve(x,y) \"\"\" Python N = 100 x = np.linspace(-2.0, 2.0, N) y = x**3 curve = Curve(x,y) curve.draw() curve.set_name(\"curve\") Trajectory home defines a general curve as a sequence of Point (subclass Curve) Yaml trajectory=\"\"\"\\ name: trajectory shapes: P1: Point(1,-1) P2: P1 + Point(0,2) P3: P2 + Point(-2,0) P4: P3 + Point(0,-2) psq: | [P1,P2,P3,P4] trajectory: Trajectory(psq) \"\"\" Python P1 = Point(1,-1) P2 = P1 + Point(0,2) P3 = P2 + Point(-2,0) P4 = P3 + Point(0,-2) psq = [P1,P2,P3,P4] trajectory = Trajectory(psq) trajectory.draw() curve.set_name(\"trajectory\") Gravity home defines a downward-pointing gravity arrow with the symbol g or user given symbol. Yaml gravity=\"\"\" name: gravity shapes: c: point(0,0) r: 2 gravity: formula: Gravity(c, r, text='$Mg$') \"\"\" Python c = point(0,0) r = 2 gravity = Gravity(c, r, text='$Mg$') gravity.set_name(\"gravity\") Moment home defines a Moment arrow with text given text, center and radius. Yaml moment=\"\"\" name: moment shapes: moment: Moment(\"$T$\", point(0,0), 2) \"\"\" Python moment = Moment(\"$T$\", point(0,0), 2) moment.shape_name=\"moment\" Text_wArrow home Text, but an arrow is drawn from the mid part of the text to some point arrow_tip Yaml txtarrow=\"\"\" name: txtarrow shapes: txtarrow: Text_wArrow(\"$Text$\", point(0,0), point(2,2)) \"\"\" Python txtarrow = Text_wArrow(\"$Text$\", point(0,0), point(2,2)) txtarrow.set_name(\"txtarrow\") Wheel home Hub and spokes Wheel given center, radius, spokes (default 10), inner_radius(default 1/5 of radius) Yaml wheel=\"\"\" name: wheel shapes: wheel: Wheel(point(0,0), 5) \"\"\" Python wheel = Wheel(point(0,0), 5) wheel.set_name(\"wheel\") Spring home Specify a vertical spring, starting at start and with length as total vertical length Yaml spring=\"\"\" name: spring shapes: spring: formula: Spring(point(0,0),5) style: linecolor: black linewidth: 1 \"\"\" Python spring = Spring(point(0,0),5) spring.set_linecolor('black') spring.set_linewidth(1) spring.set_name(\"spring\") Dashpot home Defines a vertical dashpot of height total_length and start as bottom/starting point. Yaml dashpot=\"\"\" name: dashpot shapes: dashpot: Dashpot(point(0,0),5) \"\"\" Python dashpot = Dashpot(point(0,0),5) dashpot.set_name(\"dashpot\") Code to display the above defined shapes home In order to display the various shapes, use the following code in a jupyter notebook [1]: %matplotlib widget [2]: from pysketcher import * [3]: from math import tan, radians, sin, cos # needed for python code [4]: import numpy as np [6]: drawing_tool.set_coordinate_system(xmin=-10, xmax=10,ymin=-10, ymax=10,axis=True) [5]: drawing_tool.mpl.gcf().canvas for Yaml, you need to add those extra steps head = \"\"\"\\ libraries: [\"from math import tan, radians, sin, cos\",\"from pysketcher import *\",\"import numpy as np\"] myfig={} sketch = Sketch(myfig) sketch.append(head) The above code initialize myfig sketch space loading into it libraries references so samples can use tan, radians, si, cos and all the objects defined in pysketcher (the module name of jupytersketcher) and numpy as well: this is used by the yaml definition of shapes Yaml myfig={} sketch=\"\"\" # put here the yaml 'object' definition \"\"\" drawing_tool.erase() sketch.append(sketch) # replace 'object' by the actual one d = myfig['object'].draw() drawing_tool.display() display(SVG(Sketch.matplotlib2SVG())) Python drawing_tool.erase() # put the code of the object case here # replace object by the actual name line, rectangle, circle... object.draw() drawing_tool.display() display(SVG(Sketch.matplotlib2SVG()))","title":"Shapes Reference"},{"location":"shapereference/#list-of-shapes","text":"Code to display shapes Line : defines a line providing start and end point Rectangle : defines a rectangle providing bottom left corner, x dimension, y dimension Triangle : defines a triangle providing three corner Circle : defines a circle proving center and radius Distance with text : defines a sizing mark with a label Text : defines a given text positionned at the provided point Cross : defines a cross positionned at the provided point Axis : defines an axis at the given point with a given label Arc : defines an Arc providing a center point, a radius, a starting angle and an angle (rotates clock-wise) Arc_wText : defines an arc with text positionned left (moving clock-wise) of arc half-way Arrow1 : defines a line with arrow(s) given starting and ending point and arrow termination(s) ->, \\<->, \\<- Force : defines an Indication of a force by an arrow and a text (symbol) Wall : defines an hached box given starting, ending point and thickness, filled with a pattern Curve : defines a general curve as a sequence of (x,y) coordinates Trajectory : defines a general curve as a sequence of Point (subclass Curve) Gravity : defines a downward-pointing gravity arrow with the symbol g or user given symbol. Moment : defines a Moment arrow with text given text, center and radius Text_wArrow : defines Text, but an arrow is drawn from the mid part of the text to some point arrow_tip Wheel : defines Hub and spokes Wheel given center, radius, spokes (default 10), inner_radius(default 1/5 of radius) Spring : defines a vertical spring, starting at start and with length as total vertical length Dashpot : defines a vertical dashpot of height total_length and start as bottom/starting point.","title":"List of Shapes"},{"location":"shapereference/#line","text":"home Defines a line providing start and end point","title":"Line"},{"location":"shapereference/#yaml","text":"name: line shapes: A: point(-5,-5) B: point(5,5) line: Line(A,B)","title":"Yaml"},{"location":"shapereference/#python","text":"A = point(-5,-5) B = point(5,5) line = Line(A,B) line.set_name(\"line\")","title":"Python"},{"location":"shapereference/#rectangle","text":"home Defines a rectangle providing bottom left corner, x dimension, y dimension","title":"Rectangle"},{"location":"shapereference/#yaml_1","text":"name: rectangle shapes: L: 8 h: 5 p: point(-(L/2),-(h/2)) rectangle: Rectangle(p,L,h)","title":"Yaml"},{"location":"shapereference/#python_1","text":"L = 8 h = 5 p = point(-(L/2),-(h/2)) rectangle = Rectangle(p,L,h) rectangle.set_name(\"rectangle\")","title":"Python"},{"location":"shapereference/#circle","text":"home Defines a circle proving center and radius","title":"Circle"},{"location":"shapereference/#yaml_2","text":"name: circle shapes: circle: Circle(point(0,0),5)","title":"Yaml"},{"location":"shapereference/#python_2","text":"circle = Circle(point(0,0),5) circle.set_name(\"circle\")","title":"Python"},{"location":"shapereference/#triangle","text":"home Defines a triangle providing three corner","title":"Triangle"},{"location":"shapereference/#yaml_3","text":"name: triangle shapes: L: 3.0 W: 4.0 triangle: Triangle(p1=(W/2,0), p2=(3*W/2,W/2), p3=(4*W/5.,L))","title":"Yaml"},{"location":"shapereference/#python_3","text":"L = 3.0 W = 4.0 triangle = Triangle(p1=(W/2,0), p2=(3*W/2,W/2), p3=(4*W/5.,L)) triangle.set_name(\"triangle\")","title":"Python"},{"location":"shapereference/#distance-with-text","text":"home Defines a sizing mark with a label","title":"Distance with text"},{"location":"shapereference/#yaml_4","text":"name: dwt shapes: fontsize: 14 t: r'$ 2\\pi R^2 $' # sample text dwt: Distance_wText((-4,0), (8, 5), t, fontsize)","title":"Yaml"},{"location":"shapereference/#python_4","text":"fontsize=14 t = r'$ 2\\pi R^2 $' # sample text dwt = Distance_wText((-4,0), (8, 5), t, fontsize) dwt.set_name(\"dwt\")","title":"Python"},{"location":"shapereference/#text","text":"home Defines a given text positionned at the provided point","title":"Text"},{"location":"shapereference/#yaml_5","text":"name: text shapes: text: Text(r'$c$', point(0,0))","title":"Yaml"},{"location":"shapereference/#python_5","text":"text = Text(r'$c$', point(0,0)) text.set_name(\"text\")","title":"Python"},{"location":"shapereference/#cross","text":"home Defines a cross positionned at the provided point","title":"Cross"},{"location":"shapereference/#yaml_6","text":"name: cross shapes: cross: Cross(point(0,0))","title":"Yaml"},{"location":"shapereference/#python_6","text":"cross = Cross(point(1,0)) cross.set_name(\"cross\")","title":"Python"},{"location":"shapereference/#axis","text":"home Defines an axis at the given point with a given label","title":"Axis"},{"location":"shapereference/#yaml_7","text":"name: axis shapes: axis: Axis((0,0), 5, 'x', rotation_angle=0)","title":"Yaml"},{"location":"shapereference/#python_7","text":"axis = Axis((0,0), 5, 'x', rotation_angle=0) axis.set_name(\"axis\")","title":"Python"},{"location":"shapereference/#arc","text":"home Defines an Arc providing a center point, a radius, a starting angle and an angle (rotates clock-wise)","title":"Arc"},{"location":"shapereference/#yaml_8","text":"name: arc shapes: center: point(0,0) radius: 1 angle: 120 start_angle: 180-angle arc_angle: angle arc: Arc(center, radius, start_angle, arc_angle)","title":"Yaml"},{"location":"shapereference/#python_8","text":"center = point(0,0) radius = 1 angle = 120 start_angle = 180-angle arc_angle = angle arc = Arc(center, radius, start_angle, arc_angle) arc.set_name(\"arc\")","title":"Python"},{"location":"shapereference/#arc_wtext","text":"home Defines an arc with text positionned left (moving clock-wise) of arc half-way","title":"Arc_wText"},{"location":"shapereference/#yaml_9","text":"name: arc_wtxt shapes: center: point(0,0) radius: 1 angle: 120 start_angle: 180-angle arc_angle: angle arc_wtxt: \"Arc_wText(r'$<bslash>theta$', center, radius, start_angle, arc_angle)\"","title":"Yaml"},{"location":"shapereference/#python_9","text":"center = point(0,0) radius = 1 angle = 120 start_angle = 180-angle arc_angle = angle arc_wtxt = Arc_wText(r'$\\theta$', center, radius, start_angle, arc_angle) arc_wtxt.set_name(\"arcwtxt\")","title":"Python"},{"location":"shapereference/#arrow1","text":"home defines a line with arrow(s) given starting and ending point and arrow termination(s) ->, \\<->, \\<-","title":"Arrow1"},{"location":"shapereference/#yaml_10","text":"name: arrow1 shapes: start: point(0,0) end: point(5,5) arrow1: Arrow1(start, end, style='<->')","title":"Yaml"},{"location":"shapereference/#python_10","text":"start = point(0,0) end = point(5,5) arrow1 = Arrow1(start, end, style='<->') arrow1.set_name(\"arrow1\")","title":"Python"},{"location":"shapereference/#force","text":"home defines an Indication of a force by an arrow and a text (symbol)","title":"Force"},{"location":"shapereference/#yaml_11","text":"name: force shapes: x: 0 y: 0 contact: point(x, y) vector: point(-3,-5) force: Force(contact - vector, contact, r'$Force$', text_pos='start')","title":"Yaml"},{"location":"shapereference/#python_11","text":"x = 0 y = 0 contact = point(x, y) vector = point(-3,-5) force = Force(contact - vector, contact, r'$Force$', text_pos='start') force.set_name(\"force\")","title":"Python"},{"location":"shapereference/#wall","text":"home defines an hached box given starting, ending point and thickness, filled with a pattern","title":"Wall"},{"location":"shapereference/#yaml_12","text":"name: wall shapes: theta: 30 L: 8 B: point(L-4,-2) # wall right end A: point(-4,tan(radians(theta))*L-2) # wall left end wall: formula: Wall(x=[A[0], B[0]], y=[A[1], B[1]], thickness=-0.5,transparent=False) style: linecolor: black","title":"Yaml"},{"location":"shapereference/#python_12","text":"theta = 30 L = 8 B = point(L-4,-2) # wall right end A = point(-4,tan(radians(theta))*L-2) # wall left end wall= Wall(x=[A[0], B[0]], y=[A[1], B[1]], thickness=-0.5,transparent=False) wall.set_linecolor('black') wall.set_name(\"wall\")","title":"Python"},{"location":"shapereference/#curve","text":"home defines a general curve as a sequence of (x,y) coordinates","title":"Curve"},{"location":"shapereference/#yaml_13","text":"curve=\"\"\"\\ name: curve shapes: N: 100 x: np.linspace(-2.0, 2.0, N) y: x**3 curve: Curve(x,y) \"\"\"","title":"Yaml"},{"location":"shapereference/#python_13","text":"N = 100 x = np.linspace(-2.0, 2.0, N) y = x**3 curve = Curve(x,y) curve.draw() curve.set_name(\"curve\")","title":"Python"},{"location":"shapereference/#trajectory","text":"home defines a general curve as a sequence of Point (subclass Curve)","title":"Trajectory"},{"location":"shapereference/#yaml_14","text":"trajectory=\"\"\"\\ name: trajectory shapes: P1: Point(1,-1) P2: P1 + Point(0,2) P3: P2 + Point(-2,0) P4: P3 + Point(0,-2) psq: | [P1,P2,P3,P4] trajectory: Trajectory(psq) \"\"\"","title":"Yaml"},{"location":"shapereference/#python_14","text":"P1 = Point(1,-1) P2 = P1 + Point(0,2) P3 = P2 + Point(-2,0) P4 = P3 + Point(0,-2) psq = [P1,P2,P3,P4] trajectory = Trajectory(psq) trajectory.draw() curve.set_name(\"trajectory\")","title":"Python"},{"location":"shapereference/#gravity","text":"home defines a downward-pointing gravity arrow with the symbol g or user given symbol.","title":"Gravity"},{"location":"shapereference/#yaml_15","text":"gravity=\"\"\" name: gravity shapes: c: point(0,0) r: 2 gravity: formula: Gravity(c, r, text='$Mg$') \"\"\"","title":"Yaml"},{"location":"shapereference/#python_15","text":"c = point(0,0) r = 2 gravity = Gravity(c, r, text='$Mg$') gravity.set_name(\"gravity\")","title":"Python"},{"location":"shapereference/#moment","text":"home defines a Moment arrow with text given text, center and radius.","title":"Moment"},{"location":"shapereference/#yaml_16","text":"moment=\"\"\" name: moment shapes: moment: Moment(\"$T$\", point(0,0), 2) \"\"\"","title":"Yaml"},{"location":"shapereference/#python_16","text":"moment = Moment(\"$T$\", point(0,0), 2) moment.shape_name=\"moment\"","title":"Python"},{"location":"shapereference/#text_warrow","text":"home Text, but an arrow is drawn from the mid part of the text to some point arrow_tip","title":"Text_wArrow"},{"location":"shapereference/#yaml_17","text":"txtarrow=\"\"\" name: txtarrow shapes: txtarrow: Text_wArrow(\"$Text$\", point(0,0), point(2,2)) \"\"\"","title":"Yaml"},{"location":"shapereference/#python_17","text":"txtarrow = Text_wArrow(\"$Text$\", point(0,0), point(2,2)) txtarrow.set_name(\"txtarrow\")","title":"Python"},{"location":"shapereference/#wheel","text":"home Hub and spokes Wheel given center, radius, spokes (default 10), inner_radius(default 1/5 of radius)","title":"Wheel"},{"location":"shapereference/#yaml_18","text":"wheel=\"\"\" name: wheel shapes: wheel: Wheel(point(0,0), 5) \"\"\"","title":"Yaml"},{"location":"shapereference/#python_18","text":"wheel = Wheel(point(0,0), 5) wheel.set_name(\"wheel\")","title":"Python"},{"location":"shapereference/#spring","text":"home Specify a vertical spring, starting at start and with length as total vertical length","title":"Spring"},{"location":"shapereference/#yaml_19","text":"spring=\"\"\" name: spring shapes: spring: formula: Spring(point(0,0),5) style: linecolor: black linewidth: 1 \"\"\"","title":"Yaml"},{"location":"shapereference/#python_19","text":"spring = Spring(point(0,0),5) spring.set_linecolor('black') spring.set_linewidth(1) spring.set_name(\"spring\")","title":"Python"},{"location":"shapereference/#dashpot","text":"home Defines a vertical dashpot of height total_length and start as bottom/starting point.","title":"Dashpot"},{"location":"shapereference/#yaml_20","text":"dashpot=\"\"\" name: dashpot shapes: dashpot: Dashpot(point(0,0),5) \"\"\"","title":"Yaml"},{"location":"shapereference/#python_20","text":"dashpot = Dashpot(point(0,0),5) dashpot.set_name(\"dashpot\")","title":"Python"},{"location":"shapereference/#code-to-display-the-above-defined-shapes","text":"home In order to display the various shapes, use the following code in a jupyter notebook [1]: %matplotlib widget [2]: from pysketcher import * [3]: from math import tan, radians, sin, cos # needed for python code [4]: import numpy as np [6]: drawing_tool.set_coordinate_system(xmin=-10, xmax=10,ymin=-10, ymax=10,axis=True) [5]: drawing_tool.mpl.gcf().canvas for Yaml, you need to add those extra steps head = \"\"\"\\ libraries: [\"from math import tan, radians, sin, cos\",\"from pysketcher import *\",\"import numpy as np\"] myfig={} sketch = Sketch(myfig) sketch.append(head) The above code initialize myfig sketch space loading into it libraries references so samples can use tan, radians, si, cos and all the objects defined in pysketcher (the module name of jupytersketcher) and numpy as well: this is used by the yaml definition of shapes","title":"Code to display the above defined shapes"},{"location":"shapereference/#yaml_21","text":"myfig={} sketch=\"\"\" # put here the yaml 'object' definition \"\"\" drawing_tool.erase() sketch.append(sketch) # replace 'object' by the actual one d = myfig['object'].draw() drawing_tool.display() display(SVG(Sketch.matplotlib2SVG()))","title":"Yaml"},{"location":"shapereference/#python_21","text":"drawing_tool.erase() # put the code of the object case here # replace object by the actual name line, rectangle, circle... object.draw() drawing_tool.display() display(SVG(Sketch.matplotlib2SVG()))","title":"Python"},{"location":"yamlsketcher/","text":"Content YAML sketcher file grammar Libraries, Pysketcher Object creation, Styles, Transform Example Code to read or write a yaml sketcher file YAML sketcher file grammar Sketcher file EBNF Grammar is Sketch ::= Sketch_Name Parts Sketch_Name ::= \"-\" \" \" \"name: \" Identifier Comment? \"\\n\" Parts ::= \"-\" \" \" \"parts:\\n\" Comment? Part+ Part ::= Part_Name Shapes Part_Name ::= INDENT \"-\" \" \" \"name: \" Identifier Comment? \"\\n\" DEDENT Shapes ::= INDENT \" \" \" \" \"shapes:\\n\" Comment? Shape+ DEDENT Shape ::= Libraries | Expression | DoAction | SketchObject Libraries ::= INDENT \"libraries:\" \" \" (PyImport | \"[\" (PyImport \",\")+ PyImport \"]\") \"\\n\" DEDENT Expression ::= INDENT Identifier \":\" \" \" \"|\\n\"? PyRightHandExpression Comment? \"\\n\" DEDENT DoAction ::= INDENT Identifier \":\" \" \" Comment? \"\\n\" Action DEDENT Action ::= INDENT \"action:\" \" \" PyExpression Comment? \"\\n\" DEDENT SketchObject ::= INDENT Formula Styles? Transforms? DEDENT Formula ::= INDENT \"formula:\" (\" \" | \"|\\n\") SketcherCreator Comment? \"\\n\" DEDENT SketcherCreator::= SketcherClass \"(\" PyFunctionArgs \")\" SketcherClass ::= \"Line\" | \"Rectangle\" | \"Triangle\" | \"Circle\" | \"Distance_wText\" | \"Text\" | \"Cross\" | \"Axis\" | \"Arc\" | \"Arc_wText\" | \"Arrow1\" | \"Force\" | \"Wall\" | \"Curve\" | \"Trajectory\" | \"Gravity\" | \"Moment\" | \"Text_wArrow\" | \"Wheel\" | \"Spring\" | \"Dashpot\" Styles ::= INDENT \"style:\\n\" Style+ DEDENT Style ::= LineStyle | LineWidth | LineColor | Arrow | Filled_Curves | Shadow LineStyle ::= INDENT \"linestyle:\" \" \" (\"solid\" | \"dashed\" | \"dashdot\" | \"dotted\") \"\\n\" DEDENT LineWidth ::= INDENT \"linewidth:\" \" \" Integer \"\\n\" DEDENT LineColor ::= INDENT \"linescolor:\" \" \" MatplotLibLine_Colors \"\\n\" DEDENT Filled_Curves ::= INDENT \"filled_curves:\" (Color | Pattern | Color Pattern) Comment? \"\\n\" DEDENT Color ::= INDENT \"color:\" MatplotLibLine_Colors Comment? \"\\n\" DEDENT Pattern ::= INDENT \"pattern:\" MatplotLibPattern Comment? \"\\n\" DEDENT Arrow ::= INDENT \"linestyle:\" \" \" (\"->\" | \"<-\" | \"<->\") Comment? \"\\n\" DEDENT Shadow ::= INDENT \"shadow:\" \" \" Integer Comment? \"\\n\" DEDENT Transforms ::= INDENT \"transform:\" \"|\\n\"? Transform+ \"\\n\" DEDENT Transform ::= Sketchertransform | \"[\" Sketchertransform+ \"]\" Sketchertransform ::= (\"rotate\" | \"translate\" | \"...\" ) \"(\" PyFunctionArgs \")\" Integer ::=[1-9][0-9]* Identifier ::= [A-Za-z][_A-Za-z0-9]+ Comment ::= \"#\" STRING Here is the railroad grammar diagram: Yaml Sketcher railroad diagram [Built thanks] Libraries, Pysketcher Object creation, Styles, Transform Libraries The libraries token defined in the grammar is a single import directive a list [] of import directive one of the import must be pysketcher! from pysketcher import * Pysketcher object creation The Python pysktecher object creation is a python class object statment. The possible class are defined in this section Every parameter of the object creation can be an expression, based upon variables defined before in the YAML file Styles The list of possible style correspond to the list of set_<style> members of the corresponding pysketcher class used for the object creation. This function will be applied to the current object under creation. Parameters of this function can be variable defined upstream. Transform The transform token defined in the grammer is a single transform statement a list [] of transform statments a tranform statement is a transformation function that can be applied to the object under construction example of transform function are rotate, translate parameters of the transform function can be expression based upon upstream variables definition Example !!omap - name: unknown - parts: - name: head shapes: libraries: ['from math import tan, radians, sin, cos', from pysketcher import *] - name: constants shapes: fontsize: 18 # size of the characters g: 9.81 # constant gravity theta: 30.0 # inclined plane angle L: 10.0 # sketch sizing parameter a: 1.0 # xmin: 0.0 # sketech min Abscissa ymin: -3.0 # sketech min Ordinate rl: 2.0 # rectangle width rL: 1.0 # rectangle length - name: frame shapes: setframe: # sketch setup action: drawing_tool.set_coordinate_system(xmin=xmin-L/5, xmax=xmin+1.5*L,ymin=ymin, ymax=ymin+1.5*L,instruction_file='tmp_mpl_friction.py') setblackline: # default frame values and actions action: drawing_tool.set_linecolor('black') B: point(a+L,0) # wall right end A: point(a,tan(radians(theta))*L) # wall left end normal_vec: point(sin(radians(theta)),cos(radians(theta))) # Vector normal to wall tangent_vec: point(cos(radians(theta)),-sin(radians(theta))) # Vector tangent to wall help_line: Line(A,B) # wall line x: a + 3*L/10. # contact point Abscissa y: help_line(x=x) # contact point Ordinate contact: point(x, y) # contact point: middle of the rectangle bottom edge c: contact + rL/2*normal_vec - name: body shapes: rectangle: formula: Rectangle(contact, rl, rL) style: linecolor: blue filled_curves: blue transform: ['rotate(-theta, contact)', translate(-rl/2*tangent_vec)] N: formula: Force(contact - rl*normal_vec, contact, r'$N$', text_pos='start') style: linecolor: black wheel: formula: \"Composition({'outer': rectangle})\" style: shadow: 1 mc: formula: Text(r'$c$', c) body: formula: \"Composition({'wheel': wheel, 'N': N, 'mc': mc})\" style: linecolor: black - name: plan shapes: mB: formula: Text(r'$B$',B) mA: formula: Text(r'$A$', A) wall: formula: Wall(x=[A[0], B[0]], y=[A[1], B[1]], thickness=-0.25,transparent=False) style: linecolor: black x_const: formula: Line(contact, contact + point(0,4)) style: linestyle: dotted transform: rotate(-theta, contact) x_axis: formula: Axis(start=contact+ 2*rl*normal_vec, length=2*rl,label='$x$', rotation_angle=-theta) plan: formula: \"Composition({'body': body, 'inclined wall': wall, 'x start': x_const,\\ \\ 'x axis': x_axis, 'mA': mA, 'mB': mB})\" - name: friction shapes: mg: formula: Gravity(c, rl, text='$Mg$') style: linecolor: black angle: formula: Arc_wText(r'$<bslash>theta$', center=B, radius=3, start_angle=180-theta, arc_angle=theta, fontsize=fontsize) style: linecolor: black linewidth: 1 ground: formula: Line((B[0]-L/10., 0), (B[0]-L/2.,0)) stlye: linecolor: black linestyle: dashed linewidth: 1 friction: formula: \"Composition({'plan': plan, 'ground': ground, 'mg': mg, 'angle':\\ \\ angle})\" Code to read or write a yaml sketcher file To read a YAML Pysketcher file definition: from pysketcher import * myfig={} sketch = Sketch(myfig) sketch.file2Sketch(\"dryfriction.yml\") #............... can now use sketch to draw something .................. To write a YAML Pysketcher file definition: from pysketcher import * myfig={} sketch = Sketch(myfig) #............. need to create some Pysketcher objects in the sketch ................. sketch.file2Sketch(\"dryfriction.yml\")","title":"YAML files Reference"},{"location":"yamlsketcher/#yaml-sketcher-file-grammar","text":"Sketcher file EBNF Grammar is Sketch ::= Sketch_Name Parts Sketch_Name ::= \"-\" \" \" \"name: \" Identifier Comment? \"\\n\" Parts ::= \"-\" \" \" \"parts:\\n\" Comment? Part+ Part ::= Part_Name Shapes Part_Name ::= INDENT \"-\" \" \" \"name: \" Identifier Comment? \"\\n\" DEDENT Shapes ::= INDENT \" \" \" \" \"shapes:\\n\" Comment? Shape+ DEDENT Shape ::= Libraries | Expression | DoAction | SketchObject Libraries ::= INDENT \"libraries:\" \" \" (PyImport | \"[\" (PyImport \",\")+ PyImport \"]\") \"\\n\" DEDENT Expression ::= INDENT Identifier \":\" \" \" \"|\\n\"? PyRightHandExpression Comment? \"\\n\" DEDENT DoAction ::= INDENT Identifier \":\" \" \" Comment? \"\\n\" Action DEDENT Action ::= INDENT \"action:\" \" \" PyExpression Comment? \"\\n\" DEDENT SketchObject ::= INDENT Formula Styles? Transforms? DEDENT Formula ::= INDENT \"formula:\" (\" \" | \"|\\n\") SketcherCreator Comment? \"\\n\" DEDENT SketcherCreator::= SketcherClass \"(\" PyFunctionArgs \")\" SketcherClass ::= \"Line\" | \"Rectangle\" | \"Triangle\" | \"Circle\" | \"Distance_wText\" | \"Text\" | \"Cross\" | \"Axis\" | \"Arc\" | \"Arc_wText\" | \"Arrow1\" | \"Force\" | \"Wall\" | \"Curve\" | \"Trajectory\" | \"Gravity\" | \"Moment\" | \"Text_wArrow\" | \"Wheel\" | \"Spring\" | \"Dashpot\" Styles ::= INDENT \"style:\\n\" Style+ DEDENT Style ::= LineStyle | LineWidth | LineColor | Arrow | Filled_Curves | Shadow LineStyle ::= INDENT \"linestyle:\" \" \" (\"solid\" | \"dashed\" | \"dashdot\" | \"dotted\") \"\\n\" DEDENT LineWidth ::= INDENT \"linewidth:\" \" \" Integer \"\\n\" DEDENT LineColor ::= INDENT \"linescolor:\" \" \" MatplotLibLine_Colors \"\\n\" DEDENT Filled_Curves ::= INDENT \"filled_curves:\" (Color | Pattern | Color Pattern) Comment? \"\\n\" DEDENT Color ::= INDENT \"color:\" MatplotLibLine_Colors Comment? \"\\n\" DEDENT Pattern ::= INDENT \"pattern:\" MatplotLibPattern Comment? \"\\n\" DEDENT Arrow ::= INDENT \"linestyle:\" \" \" (\"->\" | \"<-\" | \"<->\") Comment? \"\\n\" DEDENT Shadow ::= INDENT \"shadow:\" \" \" Integer Comment? \"\\n\" DEDENT Transforms ::= INDENT \"transform:\" \"|\\n\"? Transform+ \"\\n\" DEDENT Transform ::= Sketchertransform | \"[\" Sketchertransform+ \"]\" Sketchertransform ::= (\"rotate\" | \"translate\" | \"...\" ) \"(\" PyFunctionArgs \")\" Integer ::=[1-9][0-9]* Identifier ::= [A-Za-z][_A-Za-z0-9]+ Comment ::= \"#\" STRING Here is the railroad grammar diagram: Yaml Sketcher railroad diagram [Built thanks]","title":"YAML sketcher file grammar"},{"location":"yamlsketcher/#libraries-pysketcher-object-creation-styles-transform","text":"","title":"Libraries, Pysketcher Object creation, Styles, Transform"},{"location":"yamlsketcher/#libraries","text":"The libraries token defined in the grammar is a single import directive a list [] of import directive one of the import must be pysketcher! from pysketcher import *","title":"Libraries"},{"location":"yamlsketcher/#pysketcher-object-creation","text":"The Python pysktecher object creation is a python class object statment. The possible class are defined in this section Every parameter of the object creation can be an expression, based upon variables defined before in the YAML file","title":"Pysketcher object creation"},{"location":"yamlsketcher/#styles","text":"The list of possible style correspond to the list of set_<style> members of the corresponding pysketcher class used for the object creation. This function will be applied to the current object under creation. Parameters of this function can be variable defined upstream.","title":"Styles"},{"location":"yamlsketcher/#transform","text":"The transform token defined in the grammer is a single transform statement a list [] of transform statments a tranform statement is a transformation function that can be applied to the object under construction example of transform function are rotate, translate parameters of the transform function can be expression based upon upstream variables definition","title":"Transform"},{"location":"yamlsketcher/#example","text":"!!omap - name: unknown - parts: - name: head shapes: libraries: ['from math import tan, radians, sin, cos', from pysketcher import *] - name: constants shapes: fontsize: 18 # size of the characters g: 9.81 # constant gravity theta: 30.0 # inclined plane angle L: 10.0 # sketch sizing parameter a: 1.0 # xmin: 0.0 # sketech min Abscissa ymin: -3.0 # sketech min Ordinate rl: 2.0 # rectangle width rL: 1.0 # rectangle length - name: frame shapes: setframe: # sketch setup action: drawing_tool.set_coordinate_system(xmin=xmin-L/5, xmax=xmin+1.5*L,ymin=ymin, ymax=ymin+1.5*L,instruction_file='tmp_mpl_friction.py') setblackline: # default frame values and actions action: drawing_tool.set_linecolor('black') B: point(a+L,0) # wall right end A: point(a,tan(radians(theta))*L) # wall left end normal_vec: point(sin(radians(theta)),cos(radians(theta))) # Vector normal to wall tangent_vec: point(cos(radians(theta)),-sin(radians(theta))) # Vector tangent to wall help_line: Line(A,B) # wall line x: a + 3*L/10. # contact point Abscissa y: help_line(x=x) # contact point Ordinate contact: point(x, y) # contact point: middle of the rectangle bottom edge c: contact + rL/2*normal_vec - name: body shapes: rectangle: formula: Rectangle(contact, rl, rL) style: linecolor: blue filled_curves: blue transform: ['rotate(-theta, contact)', translate(-rl/2*tangent_vec)] N: formula: Force(contact - rl*normal_vec, contact, r'$N$', text_pos='start') style: linecolor: black wheel: formula: \"Composition({'outer': rectangle})\" style: shadow: 1 mc: formula: Text(r'$c$', c) body: formula: \"Composition({'wheel': wheel, 'N': N, 'mc': mc})\" style: linecolor: black - name: plan shapes: mB: formula: Text(r'$B$',B) mA: formula: Text(r'$A$', A) wall: formula: Wall(x=[A[0], B[0]], y=[A[1], B[1]], thickness=-0.25,transparent=False) style: linecolor: black x_const: formula: Line(contact, contact + point(0,4)) style: linestyle: dotted transform: rotate(-theta, contact) x_axis: formula: Axis(start=contact+ 2*rl*normal_vec, length=2*rl,label='$x$', rotation_angle=-theta) plan: formula: \"Composition({'body': body, 'inclined wall': wall, 'x start': x_const,\\ \\ 'x axis': x_axis, 'mA': mA, 'mB': mB})\" - name: friction shapes: mg: formula: Gravity(c, rl, text='$Mg$') style: linecolor: black angle: formula: Arc_wText(r'$<bslash>theta$', center=B, radius=3, start_angle=180-theta, arc_angle=theta, fontsize=fontsize) style: linecolor: black linewidth: 1 ground: formula: Line((B[0]-L/10., 0), (B[0]-L/2.,0)) stlye: linecolor: black linestyle: dashed linewidth: 1 friction: formula: \"Composition({'plan': plan, 'ground': ground, 'mg': mg, 'angle':\\ \\ angle})\"","title":"Example"},{"location":"yamlsketcher/#code-to-read-or-write-a-yaml-sketcher-file","text":"To read a YAML Pysketcher file definition: from pysketcher import * myfig={} sketch = Sketch(myfig) sketch.file2Sketch(\"dryfriction.yml\") #............... can now use sketch to draw something .................. To write a YAML Pysketcher file definition: from pysketcher import * myfig={} sketch = Sketch(myfig) #............. need to create some Pysketcher objects in the sketch ................. sketch.file2Sketch(\"dryfriction.yml\")","title":"Code to read or write a yaml sketcher file"},{"location":"resources/DryFriction/","text":"/*! * * IPython notebook * */ /* CSS font colors for translated ANSI escape sequences */ /* The color values are a mix of http://www.xcolors.net/dl/baskerville-ivorylight and http://www.xcolors.net/dl/euphrasia */ .ansi-black-fg { color: #3E424D; } .ansi-black-bg { background-color: #3E424D; } .ansi-black-intense-fg { color: #282C36; } .ansi-black-intense-bg { background-color: #282C36; } .ansi-red-fg { color: #E75C58; } .ansi-red-bg { background-color: #E75C58; } .ansi-red-intense-fg { color: #B22B31; } .ansi-red-intense-bg { background-color: #B22B31; } .ansi-green-fg { color: #00A250; } .ansi-green-bg { background-color: #00A250; } .ansi-green-intense-fg { color: #007427; } .ansi-green-intense-bg { background-color: #007427; } .ansi-yellow-fg { color: #DDB62B; } .ansi-yellow-bg { background-color: #DDB62B; } .ansi-yellow-intense-fg { color: #B27D12; } .ansi-yellow-intense-bg { background-color: #B27D12; } .ansi-blue-fg { color: #208FFB; } .ansi-blue-bg { background-color: #208FFB; } .ansi-blue-intense-fg { color: #0065CA; } .ansi-blue-intense-bg { background-color: #0065CA; } .ansi-magenta-fg { color: #D160C4; } .ansi-magenta-bg { background-color: #D160C4; } .ansi-magenta-intense-fg { color: #A03196; } .ansi-magenta-intense-bg { background-color: #A03196; } .ansi-cyan-fg { color: #60C6C8; } .ansi-cyan-bg { background-color: #60C6C8; } .ansi-cyan-intense-fg { color: #258F8F; } .ansi-cyan-intense-bg { background-color: #258F8F; } .ansi-white-fg { color: #C5C1B4; } .ansi-white-bg { background-color: #C5C1B4; } .ansi-white-intense-fg { color: #A1A6B2; } .ansi-white-intense-bg { background-color: #A1A6B2; } .ansi-default-inverse-fg { color: #FFFFFF; } .ansi-default-inverse-bg { background-color: #000000; } .ansi-bold { font-weight: bold; } .ansi-underline { text-decoration: underline; } /* The following styles are deprecated an will be removed in a future version */ .ansibold { font-weight: bold; } .ansi-inverse { outline: 0.5px dotted; } /* use dark versions for foreground, to improve visibility */ .ansiblack { color: black; } .ansired { color: darkred; } .ansigreen { color: darkgreen; } .ansiyellow { color: #c4a000; } .ansiblue { color: darkblue; } .ansipurple { color: darkviolet; } .ansicyan { color: steelblue; } .ansigray { color: gray; } /* and light for background, for the same reason */ .ansibgblack { background-color: black; } .ansibgred { background-color: red; } .ansibggreen { background-color: green; } .ansibgyellow { background-color: yellow; } .ansibgblue { background-color: blue; } .ansibgpurple { background-color: magenta; } .ansibgcyan { background-color: cyan; } .ansibggray { background-color: gray; } div.cell { /* Old browsers */ display: -webkit-box; -webkit-box-orient: vertical; -webkit-box-align: stretch; display: -moz-box; -moz-box-orient: vertical; -moz-box-align: stretch; display: box; box-orient: vertical; box-align: stretch; /* Modern browsers */ display: flex; flex-direction: column; align-items: stretch; border-radius: 2px; box-sizing: border-box; -moz-box-sizing: border-box; -webkit-box-sizing: border-box; border-width: 1px; border-style: solid; border-color: transparent; width: 100%; padding: 5px; /* This acts as a spacer between cells, that is outside the border */ margin: 0px; outline: none; position: relative; overflow: visible; } div.cell:before { position: absolute; display: block; top: -1px; left: -1px; width: 5px; height: calc(100% + 2px); content: ''; background: transparent; } div.cell.jupyter-soft-selected { border-left-color: #E3F2FD; border-left-width: 1px; padding-left: 5px; border-right-color: #E3F2FD; border-right-width: 1px; background: #E3F2FD; } @media print { div.cell.jupyter-soft-selected { border-color: transparent; } } div.cell.selected, div.cell.selected.jupyter-soft-selected { border-color: #ababab; } div.cell.selected:before, div.cell.selected.jupyter-soft-selected:before { position: absolute; display: block; top: -1px; left: -1px; width: 5px; height: calc(100% + 2px); content: ''; background: #42A5F5; } @media print { div.cell.selected, div.cell.selected.jupyter-soft-selected { border-color: transparent; } } .edit_mode div.cell.selected { border-color: #66BB6A; } .edit_mode div.cell.selected:before { position: absolute; display: block; top: -1px; left: -1px; width: 5px; height: calc(100% + 2px); content: ''; background: #66BB6A; } @media print { .edit_mode div.cell.selected { border-color: transparent; } } .prompt { /* This needs to be wide enough for 3 digit prompt numbers: In[100]: */ min-width: 14ex; /* This padding is tuned to match the padding on the CodeMirror editor. */ padding: 0.4em; margin: 0px; font-family: monospace; text-align: right; /* This has to match that of the the CodeMirror class line-height below */ line-height: 1.21429em; /* Don't highlight prompt number selection */ -webkit-touch-callout: none; -webkit-user-select: none; -khtml-user-select: none; -moz-user-select: none; -ms-user-select: none; user-select: none; /* Use default cursor */ cursor: default; } @media (max-width: 540px) { .prompt { text-align: left; } } div.inner_cell { min-width: 0; /* Old browsers */ display: -webkit-box; -webkit-box-orient: vertical; -webkit-box-align: stretch; display: -moz-box; -moz-box-orient: vertical; -moz-box-align: stretch; display: box; box-orient: vertical; box-align: stretch; /* Modern browsers */ display: flex; flex-direction: column; align-items: stretch; /* Old browsers */ -webkit-box-flex: 1; -moz-box-flex: 1; box-flex: 1; /* Modern browsers */ flex: 1; } /* input_area and input_prompt must match in top border and margin for alignment */ div.input_area { border: 1px solid #cfcfcf; border-radius: 2px; background: #f7f7f7; line-height: 1.21429em; } /* This is needed so that empty prompt areas can collapse to zero height when there is no content in the output_subarea and the prompt. The main purpose of this is to make sure that empty JavaScript output_subareas have no height. */ div.prompt:empty { padding-top: 0; padding-bottom: 0; } div.unrecognized_cell { padding: 5px 5px 5px 0px; /* Old browsers */ display: -webkit-box; -webkit-box-orient: horizontal; -webkit-box-align: stretch; display: -moz-box; -moz-box-orient: horizontal; -moz-box-align: stretch; display: box; box-orient: horizontal; box-align: stretch; /* Modern browsers */ display: flex; flex-direction: row; align-items: stretch; } div.unrecognized_cell .inner_cell { border-radius: 2px; padding: 5px; font-weight: bold; color: red; border: 1px solid #cfcfcf; background: #eaeaea; } div.unrecognized_cell .inner_cell a { color: inherit; text-decoration: none; } div.unrecognized_cell .inner_cell a:hover { color: inherit; text-decoration: none; } @media (max-width: 540px) { div.unrecognized_cell > div.prompt { display: none; } } div.code_cell { /* avoid page breaking on code cells when printing */ } @media print { div.code_cell { page-break-inside: avoid; } } /* any special styling for code cells that are currently running goes here */ div.input { page-break-inside: avoid; /* Old browsers */ display: -webkit-box; -webkit-box-orient: horizontal; -webkit-box-align: stretch; display: -moz-box; -moz-box-orient: horizontal; -moz-box-align: stretch; display: box; box-orient: horizontal; box-align: stretch; /* Modern browsers */ display: flex; flex-direction: row; align-items: stretch; } @media (max-width: 540px) { div.input { /* Old browsers */ display: -webkit-box; -webkit-box-orient: vertical; -webkit-box-align: stretch; display: -moz-box; -moz-box-orient: vertical; -moz-box-align: stretch; display: box; box-orient: vertical; box-align: stretch; /* Modern browsers */ display: flex; flex-direction: column; align-items: stretch; } } /* input_area and input_prompt must match in top border and margin for alignment */ div.input_prompt { color: #303F9F; border-top: 1px solid transparent; } div.input_area > div.highlight { margin: 0.4em; border: none; padding: 0px; background-color: transparent; } div.input_area > div.highlight > pre { margin: 0px; border: none; padding: 0px; background-color: transparent; } /* The following gets added to the <head> if it is detected that the user has a * monospace font with inconsistent normal/bold/italic height. See * notebookmain.js. Such fonts will have keywords vertically offset with * respect to the rest of the text. The user should select a better font. * See: https://github.com/ipython/ipython/issues/1503 * * .CodeMirror span { * vertical-align: bottom; * } */ .CodeMirror { line-height: 1.21429em; /* Changed from 1em to our global default */ font-size: 14px; height: auto; /* Changed to auto to autogrow */ background: none; /* Changed from white to allow our bg to show through */ } .CodeMirror-scroll { /* The CodeMirror docs are a bit fuzzy on if overflow-y should be hidden or visible.*/ /* We have found that if it is visible, vertical scrollbars appear with font size changes.*/ overflow-y: hidden; overflow-x: auto; } .CodeMirror-lines { /* In CM2, this used to be 0.4em, but in CM3 it went to 4px. We need the em value because */ /* we have set a different line-height and want this to scale with that. */ /* Note that this should set vertical padding only, since CodeMirror assumes that horizontal padding will be set on CodeMirror pre */ padding: 0.4em 0; } .CodeMirror-linenumber { padding: 0 8px 0 4px; } .CodeMirror-gutters { border-bottom-left-radius: 2px; border-top-left-radius: 2px; } .CodeMirror pre { /* In CM3 this went to 4px from 0 in CM2. This sets horizontal padding only, use .CodeMirror-lines for vertical */ padding: 0 0.4em; border: 0; border-radius: 0; } .CodeMirror-cursor { border-left: 1.4px solid black; } @media screen and (min-width: 2138px) and (max-width: 4319px) { .CodeMirror-cursor { border-left: 2px solid black; } } @media screen and (min-width: 4320px) { .CodeMirror-cursor { border-left: 4px solid black; } } /* Original style from softwaremaniacs.org (c) Ivan Sagalaev <Maniac@SoftwareManiacs.Org> Adapted from GitHub theme */ .highlight-base { color: #000; } .highlight-variable { color: #000; } .highlight-variable-2 { color: #1a1a1a; } .highlight-variable-3 { color: #333333; } .highlight-string { color: #BA2121; } .highlight-comment { color: #408080; font-style: italic; } .highlight-number { color: #080; } .highlight-atom { color: #88F; } .highlight-keyword { color: #008000; font-weight: bold; } .highlight-builtin { color: #008000; } .highlight-error { color: #f00; } .highlight-operator { color: #AA22FF; font-weight: bold; } .highlight-meta { color: #AA22FF; } /* previously not defined, copying from default codemirror */ .highlight-def { color: #00f; } .highlight-string-2 { color: #f50; } .highlight-qualifier { color: #555; } .highlight-bracket { color: #997; } .highlight-tag { color: #170; } .highlight-attribute { color: #00c; } .highlight-header { color: blue; } .highlight-quote { color: #090; } .highlight-link { color: #00c; } /* apply the same style to codemirror */ .cm-s-ipython span.cm-keyword { color: #008000; font-weight: bold; } .cm-s-ipython span.cm-atom { color: #88F; } .cm-s-ipython span.cm-number { color: #080; } .cm-s-ipython span.cm-def { color: #00f; } .cm-s-ipython span.cm-variable { color: #000; } .cm-s-ipython span.cm-operator { color: #AA22FF; font-weight: bold; } .cm-s-ipython span.cm-variable-2 { color: #1a1a1a; } .cm-s-ipython span.cm-variable-3 { color: #333333; } .cm-s-ipython span.cm-comment { color: #408080; font-style: italic; } .cm-s-ipython span.cm-string { color: #BA2121; } .cm-s-ipython span.cm-string-2 { color: #f50; } .cm-s-ipython span.cm-meta { color: #AA22FF; } .cm-s-ipython span.cm-qualifier { color: #555; } .cm-s-ipython span.cm-builtin { color: #008000; } .cm-s-ipython span.cm-bracket { color: #997; } .cm-s-ipython span.cm-tag { color: #170; } .cm-s-ipython span.cm-attribute { color: #00c; } .cm-s-ipython span.cm-header { color: blue; } .cm-s-ipython span.cm-quote { color: #090; } .cm-s-ipython span.cm-link { color: #00c; } .cm-s-ipython span.cm-error { color: #f00; } .cm-s-ipython span.cm-tab { background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAMCAYAAAAkuj5RAAAAAXNSR0IArs4c6QAAAGFJREFUSMft1LsRQFAQheHPowAKoACx3IgEKtaEHujDjORSgWTH/ZOdnZOcM/sgk/kFFWY0qV8foQwS4MKBCS3qR6ixBJvElOobYAtivseIE120FaowJPN75GMu8j/LfMwNjh4HUpwg4LUAAAAASUVORK5CYII=); background-position: right; background-repeat: no-repeat; } div.output_wrapper { /* this position must be relative to enable descendents to be absolute within it */ position: relative; /* Old browsers */ display: -webkit-box; -webkit-box-orient: vertical; -webkit-box-align: stretch; display: -moz-box; -moz-box-orient: vertical; -moz-box-align: stretch; display: box; box-orient: vertical; box-align: stretch; /* Modern browsers */ display: flex; flex-direction: column; align-items: stretch; z-index: 1; } /* class for the output area when it should be height-limited */ div.output_scroll { /* ideally, this would be max-height, but FF barfs all over that */ height: 24em; /* FF needs this *and the wrapper* to specify full width, or it will shrinkwrap */ width: 100%; overflow: auto; border-radius: 2px; -webkit-box-shadow: inset 0 2px 8px rgba(0, 0, 0, 0.8); box-shadow: inset 0 2px 8px rgba(0, 0, 0, 0.8); display: block; } /* output div while it is collapsed */ div.output_collapsed { margin: 0px; padding: 0px; /* Old browsers */ display: -webkit-box; -webkit-box-orient: vertical; -webkit-box-align: stretch; display: -moz-box; -moz-box-orient: vertical; -moz-box-align: stretch; display: box; box-orient: vertical; box-align: stretch; /* Modern browsers */ display: flex; flex-direction: column; align-items: stretch; } div.out_prompt_overlay { height: 100%; padding: 0px 0.4em; position: absolute; border-radius: 2px; } div.out_prompt_overlay:hover { /* use inner shadow to get border that is computed the same on WebKit/FF */ -webkit-box-shadow: inset 0 0 1px #000; box-shadow: inset 0 0 1px #000; background: rgba(240, 240, 240, 0.5); } div.output_prompt { color: #D84315; } /* This class is the outer container of all output sections. */ div.output_area { padding: 0px; page-break-inside: avoid; /* Old browsers */ display: -webkit-box; -webkit-box-orient: horizontal; -webkit-box-align: stretch; display: -moz-box; -moz-box-orient: horizontal; -moz-box-align: stretch; display: box; box-orient: horizontal; box-align: stretch; /* Modern browsers */ display: flex; flex-direction: row; align-items: stretch; } div.output_area .MathJax_Display { text-align: left !important; } div.output_area div.output_area div.output_area img, div.output_area svg { max-width: 100%; height: auto; } div.output_area img.unconfined, div.output_area svg.unconfined { max-width: none; } div.output_area .mglyph > img { max-width: none; } /* This is needed to protect the pre formating from global settings such as that of bootstrap */ .output { /* Old browsers */ display: -webkit-box; -webkit-box-orient: vertical; -webkit-box-align: stretch; display: -moz-box; -moz-box-orient: vertical; -moz-box-align: stretch; display: box; box-orient: vertical; box-align: stretch; /* Modern browsers */ display: flex; flex-direction: column; align-items: stretch; } @media (max-width: 540px) { div.output_area { /* Old browsers */ display: -webkit-box; -webkit-box-orient: vertical; -webkit-box-align: stretch; display: -moz-box; -moz-box-orient: vertical; -moz-box-align: stretch; display: box; box-orient: vertical; box-align: stretch; /* Modern browsers */ display: flex; flex-direction: column; align-items: stretch; } } div.output_area pre { margin: 0; padding: 1px 0 1px 0; border: 0; vertical-align: baseline; color: black; background-color: transparent; border-radius: 0; } /* This class is for the output subarea inside the output_area and after the prompt div. */ div.output_subarea { overflow-x: auto; padding: 0.4em; /* Old browsers */ -webkit-box-flex: 1; -moz-box-flex: 1; box-flex: 1; /* Modern browsers */ flex: 1; max-width: calc(100% - 14ex); } div.output_scroll div.output_subarea { overflow-x: visible; } /* The rest of the output_* classes are for special styling of the different output types */ /* all text output has this class: */ div.output_text { text-align: left; color: #000; /* This has to match that of the the CodeMirror class line-height below */ line-height: 1.21429em; } /* stdout/stderr are 'text' as well as 'stream', but execute_result/error are *not* streams */ div.output_stderr { background: #fdd; /* very light red background for stderr */ } div.output_latex { text-align: left; } /* Empty output_javascript divs should have no height */ div.output_javascript:empty { padding: 0; } .js-error { color: darkred; } /* raw_input styles */ div.raw_input_container { line-height: 1.21429em; padding-top: 5px; } pre.raw_input_prompt { /* nothing needed here. */ } input.raw_input { font-family: monospace; font-size: inherit; color: inherit; width: auto; /* make sure input baseline aligns with prompt */ vertical-align: baseline; /* padding + margin = 0.5em between prompt and cursor */ padding: 0em 0.25em; margin: 0em 0.25em; } input.raw_input:focus { box-shadow: none; } p.p-space { margin-bottom: 10px; } div.output_unrecognized { padding: 5px; font-weight: bold; color: red; } div.output_unrecognized a { color: inherit; text-decoration: none; } div.output_unrecognized a:hover { color: inherit; text-decoration: none; } .rendered_html { color: #000; /* any extras will just be numbers: */ } .rendered_html :link { text-decoration: underline; } .rendered_html :visited { text-decoration: underline; } .rendered_html h1:first-child { margin-top: 0.538em; } .rendered_html h2:first-child { margin-top: 0.636em; } .rendered_html h3:first-child { margin-top: 0.777em; } .rendered_html h4:first-child { margin-top: 1em; } .rendered_html h5:first-child { margin-top: 1em; } .rendered_html h6:first-child { margin-top: 1em; } .rendered_html ul:not(.list-inline), .rendered_html ol:not(.list-inline) { padding-left: 2em; } .rendered_html * + ul { margin-top: 1em; } .rendered_html * + ol { margin-top: 1em; } .rendered_html pre, .rendered_html tr, .rendered_html th, .rendered_html tbody tr:nth-child(odd) { background: #f5f5f5; } .rendered_html tbody tr:hover { background: rgba(66, 165, 245, 0.2); } .rendered_html * + table { margin-top: 1em; } .rendered_html * + p { margin-top: 1em; } .rendered_html * + img { margin-top: 1em; } .rendered_html img, .rendered_html img.unconfined, .rendered_html * + .alert { margin-top: 1em; } [dir=\"rtl\"] div.text_cell { /* Old browsers */ display: -webkit-box; -webkit-box-orient: horizontal; -webkit-box-align: stretch; display: -moz-box; -moz-box-orient: horizontal; -moz-box-align: stretch; display: box; box-orient: horizontal; box-align: stretch; /* Modern browsers */ display: flex; flex-direction: row; align-items: stretch; } @media (max-width: 540px) { div.text_cell > div.prompt { display: none; } } div.text_cell_render { /*font-family: \"Helvetica Neue\", Arial, Helvetica, Geneva, sans-serif;*/ outline: none; resize: none; width: inherit; border-style: none; padding: 0.5em 0.5em 0.5em 0.4em; color: #000; box-sizing: border-box; -moz-box-sizing: border-box; -webkit-box-sizing: border-box; } a.anchor-link:link { text-decoration: none; padding: 0px 20px; visibility: hidden; } h1:hover .anchor-link, h2:hover .anchor-link, h3:hover .anchor-link, h4:hover .anchor-link, h5:hover .anchor-link, h6:hover .anchor-link { visibility: visible; } .text_cell.rendered .input_area { display: none; } .text_cell.rendered .text_cell.rendered .rendered_html tr, .text_cell.rendered .rendered_html th, .text_cell.rendered .text_cell.unrendered .text_cell_render { display: none; } .text_cell .dropzone .input_area { border: 2px dashed #bababa; margin: -1px; } .cm-header-1, .cm-header-2, .cm-header-3, .cm-header-4, .cm-header-5, .cm-header-6 { font-weight: bold; font-family: \"Helvetica Neue\", Helvetica, Arial, sans-serif; } .cm-header-1 { font-size: 185.7%; } .cm-header-2 { font-size: 157.1%; } .cm-header-3 { font-size: 128.6%; } .cm-header-4 { font-size: 110%; } .cm-header-5 { font-size: 100%; font-style: italic; } .cm-header-6 { font-size: 100%; font-style: italic; } .highlight-ipynb .hll { background-color: #ffffcc } .highlight-ipynb { background: #f8f8f8; } .highlight-ipynb .c { color: #408080; font-style: italic } /* Comment */ .highlight-ipynb .err { border: 1px solid #FF0000 } /* Error */ .highlight-ipynb .k { color: #008000; font-weight: bold } /* Keyword */ .highlight-ipynb .o { color: #666666 } /* Operator */ .highlight-ipynb .ch { color: #408080; font-style: italic } /* Comment.Hashbang */ .highlight-ipynb .cm { color: #408080; font-style: italic } /* Comment.Multiline */ .highlight-ipynb .cp { color: #BC7A00 } /* Comment.Preproc */ .highlight-ipynb .cpf { color: #408080; font-style: italic } /* Comment.PreprocFile */ .highlight-ipynb .c1 { color: #408080; font-style: italic } /* Comment.Single */ .highlight-ipynb .cs { color: #408080; font-style: italic } /* Comment.Special */ .highlight-ipynb .gd { color: #A00000 } /* Generic.Deleted */ .highlight-ipynb .ge { font-style: italic } /* Generic.Emph */ .highlight-ipynb .gr { color: #FF0000 } /* Generic.Error */ .highlight-ipynb .gh { color: #000080; font-weight: bold } /* Generic.Heading */ .highlight-ipynb .gi { color: #00A000 } /* Generic.Inserted */ .highlight-ipynb .go { color: #888888 } /* Generic.Output */ .highlight-ipynb .gp { color: #000080; font-weight: bold } /* Generic.Prompt */ .highlight-ipynb .gs { font-weight: bold } /* Generic.Strong */ .highlight-ipynb .gu { color: #800080; font-weight: bold } /* Generic.Subheading */ .highlight-ipynb .gt { color: #0044DD } /* Generic.Traceback */ .highlight-ipynb .kc { color: #008000; font-weight: bold } /* Keyword.Constant */ .highlight-ipynb .kd { color: #008000; font-weight: bold } /* Keyword.Declaration */ .highlight-ipynb .kn { color: #008000; font-weight: bold } /* Keyword.Namespace */ .highlight-ipynb .kp { color: #008000 } /* Keyword.Pseudo */ .highlight-ipynb .kr { color: #008000; font-weight: bold } /* Keyword.Reserved */ .highlight-ipynb .kt { color: #B00040 } /* Keyword.Type */ .highlight-ipynb .m { color: #666666 } /* Literal.Number */ .highlight-ipynb .s { color: #BA2121 } /* Literal.String */ .highlight-ipynb .na { color: #7D9029 } /* Name.Attribute */ .highlight-ipynb .nb { color: #008000 } /* Name.Builtin */ .highlight-ipynb .nc { color: #0000FF; font-weight: bold } /* Name.Class */ .highlight-ipynb .no { color: #880000 } /* Name.Constant */ .highlight-ipynb .nd { color: #AA22FF } /* Name.Decorator */ .highlight-ipynb .ni { color: #999999; font-weight: bold } /* Name.Entity */ .highlight-ipynb .ne { color: #D2413A; font-weight: bold } /* Name.Exception */ .highlight-ipynb .nf { color: #0000FF } /* Name.Function */ .highlight-ipynb .nl { color: #A0A000 } /* Name.Label */ .highlight-ipynb .nn { color: #0000FF; font-weight: bold } /* Name.Namespace */ .highlight-ipynb .nt { color: #008000; font-weight: bold } /* Name.Tag */ .highlight-ipynb .nv { color: #19177C } /* Name.Variable */ .highlight-ipynb .ow { color: #AA22FF; font-weight: bold } /* Operator.Word */ .highlight-ipynb .w { color: #bbbbbb } /* Text.Whitespace */ .highlight-ipynb .mb { color: #666666 } /* Literal.Number.Bin */ .highlight-ipynb .mf { color: #666666 } /* Literal.Number.Float */ .highlight-ipynb .mh { color: #666666 } /* Literal.Number.Hex */ .highlight-ipynb .mi { color: #666666 } /* Literal.Number.Integer */ .highlight-ipynb .mo { color: #666666 } /* Literal.Number.Oct */ .highlight-ipynb .sa { color: #BA2121 } /* Literal.String.Affix */ .highlight-ipynb .sb { color: #BA2121 } /* Literal.String.Backtick */ .highlight-ipynb .sc { color: #BA2121 } /* Literal.String.Char */ .highlight-ipynb .dl { color: #BA2121 } /* Literal.String.Delimiter */ .highlight-ipynb .sd { color: #BA2121; font-style: italic } /* Literal.String.Doc */ .highlight-ipynb .s2 { color: #BA2121 } /* Literal.String.Double */ .highlight-ipynb .se { color: #BB6622; font-weight: bold } /* Literal.String.Escape */ .highlight-ipynb .sh { color: #BA2121 } /* Literal.String.Heredoc */ .highlight-ipynb .si { color: #BB6688; font-weight: bold } /* Literal.String.Interpol */ .highlight-ipynb .sx { color: #008000 } /* Literal.String.Other */ .highlight-ipynb .sr { color: #BB6688 } /* Literal.String.Regex */ .highlight-ipynb .s1 { color: #BA2121 } /* Literal.String.Single */ .highlight-ipynb .ss { color: #19177C } /* Literal.String.Symbol */ .highlight-ipynb .bp { color: #008000 } /* Name.Builtin.Pseudo */ .highlight-ipynb .fm { color: #0000FF } /* Name.Function.Magic */ .highlight-ipynb .vc { color: #19177C } /* Name.Variable.Class */ .highlight-ipynb .vg { color: #19177C } /* Name.Variable.Global */ .highlight-ipynb .vi { color: #19177C } /* Name.Variable.Instance */ .highlight-ipynb .vm { color: #19177C } /* Name.Variable.Magic */ .highlight-ipynb .il { color: #666666 } /* Literal.Number.Integer.Long */ .rendered_html a{text-decoration:inherit !important}.rendered_html :link{text-decoration:inherit !important}.rendered_html :visited{text-decoration:inherit !important}pre code{background-color:inherit !important}.highlight{color:#000000}.highlight code{color:#000000}.highlight .n{color:#333333}.highlight .p{color:#000000}.text_cell .prompt{display:none !important}div.input_prompt{padding:0.2em 0.4em}div.output_prompt{padding:0.4em}.text_cell{margin:0 !important;padding:0 !important;border:none !important}.text_cell_render{margin:0 !important;padding:0 !important;border:none !important}.rendered_html *+p{margin-top:inherit !important}.anchor-link{display:none !important}.code_cell{margin:0 !important;padding:5px 0 !important;border:none !important}.celltoolbar{border:thin solid #CFCFCF;border-bottom:none;background:#EEE;border-radius:2px 2px 0px 0px;width:100%;height:29px;padding-right:4px;box-orient:horizontal;box-align:stretch;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row;-webkit-box-align:stretch;-ms-flex-align:stretch;align-items:stretch;box-pack:end;-webkit-box-pack:start;-ms-flex-pack:start;justify-content:flex-start;display:-webkit-flex}.celltoolbar .tags_button_container{display:-webkit-box;display:-ms-flexbox;display:flex}.celltoolbar .tags_button_container .tag-container{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row;-webkit-box-flex:1;-ms-flex-positive:1;flex-grow:1;overflow:hidden;position:relative}.celltoolbar .tags_button_container .tag-container .cell-tag{background-color:#fff;white-space:nowrap;margin:3px 4px;padding:0 4px;border-radius:1px;border:1px solid #ccc;-webkit-box-shadow:none;box-shadow:none;width:inherit;font-size:13px;font-family:\"Helvetica Neue\", Helvetica, Arial, sans-serif;height:22px;line-height:22px;display:inline-block}div.input_area>div.highlight{margin:0.25em 0.4em !important}.code_cell pre{font-size:12px !important}.output_html table.dataframe{font-family:Arial, sans-serif;font-size:13px;line-height:20px}.output_html table.dataframe th,td{padding:4px;text-align:left}.bk-plot-wrapper tbody tr{background:none !important}.bk-plot-wrapper tbody tr:hover{background:none !important} /*# sourceMappingURL=jupyter-fixes.min.css.map */ MathJax.Hub.Config({ tex2jax: { inlineMath: [ ['$','$'], [\"\\\\(\",\"\\\\)\"] ], displayMath: [ ['$$','$$'], [\"\\\\[\",\"\\\\]\"] ], processEscapes: true, processEnvironments: true }, // Center justify equations in code and markdown cells. Elsewhere // we use CSS to left justify single line equations in code cells. displayAlign: 'center', \"HTML-CSS\": { styles: {'.MathJax_Display': {\"margin\": 0}}, linebreaks: { automatic: true } } }); Dry Friction mockup \u00b6 Libraries \u00b6 In [1]: % matplotlib widget import matplotlib as mpl mpl.rc('text', usetex = True) mpl.rc('font', family = 'serif') In [2]: import time In [3]: from pysketcher import * In [4]: from ipywidgets import FloatSlider , AppLayout , Label , HBox , Button , Output In [5]: from IPython.display import HTML , SVG , display , clear_output In [6]: from math import tan , radians , sin , cos Sketch container \u00b6 In [7]: myfig = {} Sketch yaml definition \u00b6 In [8]: libraries = { 'name' : \"head\" , 'shapes' : \"\"\" \\ libraries: [\"from math import tan, radians, sin, cos\",\"from pysketcher import *\"]\"\"\" } In [9]: constants = { 'name' : \"constants\" , 'shapes' : \"\"\" \\ fontsize: 18 # size of the characters g: 9.81 # constant gravity theta: 30.0 # inclined plane angle L: 10.0 # sketch sizing parameter a: 1.0 # xmin: 0.0 # sketech min Abscissa ymin: -3.0 # sketech min Ordinate rl: 2.0 # rectangle width rL: 1.0 # rectangle length \"\"\" } In [10]: frame = { 'name' : \"frame\" , 'shapes' : \"\"\" \\ setframe: # sketch setup action: \"drawing_tool.set_coordinate_system(xmin=xmin-L/5, xmax=xmin+1.5*L,ymin=ymin, ymax=ymin+1.5*L,instruction_file='tmp_mpl_friction.py')\" setblackline: # default frame values and actions action: \"drawing_tool.set_linecolor('black')\" B: point(a+L,0) # wall right end A: point(a,tan(radians(theta))*L) # wall left end normal_vec: point(sin(radians(theta)),cos(radians(theta))) # Vector normal to wall tangent_vec: point(cos(radians(theta)),-sin(radians(theta))) # Vector tangent to wall help_line: Line(A,B) # wall line x: a + 3*L/10. # contact point Abscissa y: help_line(x=x) # contact point Ordinate contact: point(x, y) # contact point: middle of the rectangle bottom edge c: contact + rL/2*normal_vec \"\"\" } In [11]: body = { 'name' : \"body\" , 'shapes' : \"\"\" \\ rectangle: formula: Rectangle(contact, rl, rL) style: linecolor: blue filled_curves: blue transform: [\"rotate(-theta, contact)\", \"translate(-rl/2*tangent_vec)\"] N: formula: Force(contact - rl*normal_vec, contact, r'$N$', text_pos='start') style: linecolor: black wheel: formula: \"Composition({'outer': rectangle})\" style: shadow: 1 mc: formula: Text(r'$c$', c) body: formula: \"Composition({'wheel': wheel, 'N': N, 'mc': mc})\" style: linecolor: black \"\"\" } In [12]: plan = { 'name' : \"plan\" , 'shapes' : \"\"\" \\ mB: formula: Text(r'$B$',B) mA: formula: Text(r'$A$', A) wall: formula: Wall(x=[A[0], B[0]], y=[A[1], B[1]], thickness=-0.25,transparent=False) style: linecolor: black x_const: formula: Line(contact, contact + point(0,4)) style: linestyle: dotted transform: rotate(-theta, contact) x_axis: formula: \"Axis(start=contact+ 2*rl*normal_vec, length=2*rl,label='$x$', rotation_angle=-theta)\" plan: formula: \"Composition({'body': body, 'inclined wall': wall, 'x start': x_const, 'x axis': x_axis, 'mA': mA, 'mB': mB})\" \"\"\" } In [13]: friction = { 'name' : \"friction\" , 'shapes' : \"\"\" \\ mg: formula: Gravity(c, rl, text='$Mg$') style: linecolor: black angle: formula: \"Arc_wText(r'$<bslash>theta$', center=B, radius=3, start_angle=180-theta, arc_angle=theta, fontsize=fontsize)\" style: linecolor: black linewidth: 1 ground: formula: Line((B[0]-L/10., 0), (B[0]-L/2.,0)) stlye: linecolor: black linestyle: dashed linewidth: 1 friction: formula: \"Composition({'plan': plan, 'ground': ground, 'mg': mg, 'angle': angle})\" \"\"\" } Read yaml sketch definition, draw it \u00b6 In [14]: if sketchParse ( libraries , myfig ): if sketchParse ( constants , myfig ): if sketchParse ( frame , myfig ): if sketchParse ( body , myfig ): if sketchParse ( plan , myfig ): if sketchParse ( friction , myfig ): print ( \"success\" ) success In [15]: d = myfig [ 'friction' ] . draw () In [16]: drawing_tool . display () In [17]: def doright ( change ): rotate ( - 5 ) def doleft ( change ): rotate ( 5 ) def rotate ( theta ): angle = myfig [ 'theta' ] angle -= theta myfig [ 'theta' ] = angle drawing_tool . erase () x = myfig [ 'plan' ][ 'body' ][ 'mc' ] . x y = myfig [ 'plan' ][ 'body' ][ 'mc' ] . y myfig [ 'plan' ] . rotate ( theta , myfig [ 'B' ]) xf = myfig [ 'plan' ][ 'body' ][ 'mc' ] . x yf = myfig [ 'plan' ][ 'body' ][ 'mc' ] . y trans = point ( xf - x , yf - y ) myfig [ 'angle' ] . changeAngle ( 180 - angle , angle ) myfig [ 'mg' ] . translate ( trans ) myfig [ 'friction' ] . draw () In [18]: left = Button ( description = '' , icon = 'rotate-left' , ) left . on_click ( doleft ) right = Button ( description = '' , icon = 'rotate-right' , ) right . on_click ( doright ) output = Output () In [19]: applayout = AppLayout ( center = output , footer = HBox ([ left , right ]), pane_heights = [ 0 , 6 , 1 ] ) #drawing_tool.mpl.ion() In [20]: applayout var element = $('#91d670eb-7a07-411a-ba89-c018cb4464d9'); {\"model_id\": \"ad61cb79665e4d639cb2a2bce7445c33\", \"version_major\": 2, \"version_minor\": 0} In [21]: with output : clear_output () display ( drawing_tool . mpl . gcf () . canvas ) Turn it interactiv \u00b6 In [22]: drawing_tool . mpl . ion () Use left and right rotation button to rotate the sketch Simulate sketch rotation \u00b6 Using SVG \u00b6 In [23]: for i in range ( 0 , 10 ): doright ( None ) clear_output ( wait = True ) display ( SVG ( sketch2SVG ())) time . sleep ( 0.01 ) 2020-08-05T18:54:57.809254 image/svg+xml Matplotlib v3.3.0, https://matplotlib.org/ *{stroke-linecap:butt;stroke-linejoin:round;} Using PNG \u00b6 In [24]: for i in range ( 0 , 10 ): doright ( None ) clear_output ( wait = True ) display ( sketch2PNG ()) time . sleep ( 0.01 ) take a canvas snapshot \u00b6 In [25]: drawing_tool . mpl . gcf () . canvas . print_png ( \"friction.png\" ) from PIL import Image img = Image . open ( \"friction.png\" ) img Out[25]: Sketch composition \u00b6 In [26]: myfig [ 'friction' ] . graphviz_dot ( 'friction' ) graphviz [('Composition:\\\\nfriction', 'Composition:\\\\nplan'), ('Composition:\\\\nplan', 'Composition:\\\\nbody'), ('Composition:\\\\nbody', 'Composition:\\\\nwheel'), ('Composition:\\\\nwheel', 'Rectangle:\\\\nouter'), ('Rectangle:\\\\nouter', 'Curve:\\\\nrectangle'), ('Composition:\\\\nbody', 'Force:\\\\nN'), ('Force:\\\\nN', 'Line:\\\\narrow'), ('Line:\\\\narrow', 'Curve:\\\\nline'), ('Force:\\\\nN', 'Text:\\\\ntext'), ('Composition:\\\\nbody', 'Text:\\\\nmc'), ('Composition:\\\\nplan', 'Wall:\\\\ninclined wall'), ('Wall:\\\\ninclined wall', 'Curve:\\\\nwall'), ('Composition:\\\\nplan', 'Line:\\\\nx start'), ('Line:\\\\nx start', 'Curve:\\\\nline'), ('Composition:\\\\nplan', 'Axis:\\\\nx axis'), ('Axis:\\\\nx axis', 'Arrow3:\\\\narrow'), ('Arrow3:\\\\narrow', 'Line:\\\\nline'), ('Line:\\\\nline', 'Curve:\\\\nline'), ('Arrow3:\\\\narrow', 'Line:\\\\nhead left'), ('Line:\\\\nhead left', 'Curve:\\\\nline'), ('Arrow3:\\\\narrow', 'Line:\\\\nhead right'), ('Line:\\\\nhead right', 'Curve:\\\\nline'), ('Axis:\\\\nx axis', 'Text:\\\\nlabel'), ('Composition:\\\\nplan', 'Text:\\\\nmA'), ('Composition:\\\\nplan', 'Text:\\\\nmB'), ('Composition:\\\\nfriction', 'Line:\\\\nground'), ('Line:\\\\nground', 'Curve:\\\\nline'), ('Composition:\\\\nfriction', 'Gravity:\\\\nmg'), ('Gravity:\\\\nmg', 'Line:\\\\narrow'), ('Line:\\\\narrow', 'Curve:\\\\nline'), ('Gravity:\\\\nmg', 'Text:\\\\ntext'), ('Composition:\\\\nfriction', 'Arc_wText:\\\\nangle'), ('Arc_wText:\\\\nangle', 'Arc:\\\\narc'), ('Arc:\\\\narc', 'Curve:\\\\narc'), ('Arc_wText:\\\\nangle', 'Text:\\\\ntext')] defaultdict(<function Shape.graphviz_dot.<locals>.<lambda> at 0x00000143A678E550>, {'Composition:\\\\nplan': 1, 'Composition:\\\\nfriction': 0, 'Composition:\\\\nbody': 1, 'Composition:\\\\nwheel': 1, 'Rectangle:\\\\nouter': 1, 'Curve:\\\\nrectangle': 1, 'Force:\\\\nN': 1, 'Line:\\\\narrow': 2, 'Curve:\\\\nline': 7, 'Text:\\\\ntext': 3, 'Text:\\\\nmc': 1, 'Wall:\\\\ninclined wall': 1, 'Curve:\\\\nwall': 1, 'Line:\\\\nx start': 1, 'Axis:\\\\nx axis': 1, 'Arrow3:\\\\narrow': 1, 'Line:\\\\nline': 1, 'Line:\\\\nhead left': 1, 'Line:\\\\nhead right': 1, 'Text:\\\\nlabel': 1, 'Text:\\\\nmA': 1, 'Text:\\\\nmB': 1, 'Line:\\\\nground': 1, 'Gravity:\\\\nmg': 1, 'Arc_wText:\\\\nangle': 1, 'Arc:\\\\narc': 1, 'Curve:\\\\narc': 1}) [('Composition:\\\\nfriction', 'Composition:\\\\nplan'), ('Composition:\\\\nplan', 'Composition:\\\\nbody'), ('Composition:\\\\nbody', 'Composition:\\\\nwheel'), ('Composition:\\\\nwheel', 'Rectangle:\\\\nouter'), ('Rectangle:\\\\nouter', 'Curve:\\\\nrectangle'), ('Composition:\\\\nbody', 'Force:\\\\nN'), ('Force:\\\\nN', 'Line:\\\\narrow (1)'), ('Line:\\\\narrow (1)', 'Curve:\\\\nline (1)'), ('Force:\\\\nN', 'Text:\\\\ntext (1)'), ('Composition:\\\\nbody', 'Text:\\\\nmc'), ('Composition:\\\\nplan', 'Wall:\\\\ninclined wall'), ('Wall:\\\\ninclined wall', 'Curve:\\\\nwall'), ('Composition:\\\\nplan', 'Line:\\\\nx start'), ('Line:\\\\nx start', 'Curve:\\\\nline (2)'), ('Composition:\\\\nplan', 'Axis:\\\\nx axis'), ('Axis:\\\\nx axis', 'Arrow3:\\\\narrow'), ('Arrow3:\\\\narrow', 'Line:\\\\nline'), ('Line:\\\\nline', 'Curve:\\\\nline (3)'), ('Arrow3:\\\\narrow', 'Line:\\\\nhead left'), ('Line:\\\\nhead left', 'Curve:\\\\nline (4)'), ('Arrow3:\\\\narrow', 'Line:\\\\nhead right'), ('Line:\\\\nhead right', 'Curve:\\\\nline (5)'), ('Axis:\\\\nx axis', 'Text:\\\\nlabel'), ('Composition:\\\\nplan', 'Text:\\\\nmA'), ('Composition:\\\\nplan', 'Text:\\\\nmB'), ('Composition:\\\\nfriction', 'Line:\\\\nground'), ('Line:\\\\nground', 'Curve:\\\\nline (6)'), ('Composition:\\\\nfriction', 'Gravity:\\\\nmg'), ('Gravity:\\\\nmg', 'Line:\\\\narrow (2)'), ('Line:\\\\narrow (2)', 'Curve:\\\\nline (7)'), ('Gravity:\\\\nmg', 'Text:\\\\ntext (2)'), ('Composition:\\\\nfriction', 'Arc_wText:\\\\nangle'), ('Arc_wText:\\\\nangle', 'Arc:\\\\narc'), ('Arc:\\\\narc', 'Curve:\\\\narc'), ('Arc_wText:\\\\nangle', 'Text:\\\\ntext (3)')] Run dot -Tpng -o friction.png friction.dot In [27]: ! dot - Tpng - o dotfriction . png friction . dot from PIL import Image img = Image . open ( \"dotfriction.png\" ) img Out[27]: In [28]: ! dot - Tsvg - o dotfriction . svg friction . dot In [29]: display ( SVG ( \"dotfriction.svg\" )) G Composition:\\nfriction Composition: friction Composition:\\nplan Composition: plan Composition:\\nfriction->Composition:\\nplan Line:\\nground Line: ground Composition:\\nfriction->Line:\\nground Gravity:\\nmg Gravity: mg Composition:\\nfriction->Gravity:\\nmg Arc_wText:\\nangle Arc_wText: angle Composition:\\nfriction->Arc_wText:\\nangle Composition:\\nbody Composition: body Composition:\\nplan->Composition:\\nbody Wall:\\ninclined wall Wall: inclined wall Composition:\\nplan->Wall:\\ninclined wall Line:\\nx start Line: x start Composition:\\nplan->Line:\\nx start Axis:\\nx axis Axis: x axis Composition:\\nplan->Axis:\\nx axis Text:\\nmA Text: mA Composition:\\nplan->Text:\\nmA Text:\\nmB Text: mB Composition:\\nplan->Text:\\nmB Composition:\\nwheel Composition: wheel Composition:\\nbody->Composition:\\nwheel Force:\\nN Force: N Composition:\\nbody->Force:\\nN Text:\\nmc Text: mc Composition:\\nbody->Text:\\nmc Rectangle:\\nouter Rectangle: outer Composition:\\nwheel->Rectangle:\\nouter Curve:\\nrectangle Curve: rectangle Rectangle:\\nouter->Curve:\\nrectangle Line:\\narrow (1) Line: arrow (1) Force:\\nN->Line:\\narrow (1) Text:\\ntext (1) Text: text (1) Force:\\nN->Text:\\ntext (1) Curve:\\nline (1) Curve: line (1) Line:\\narrow (1)->Curve:\\nline (1) Curve:\\nwall Curve: wall Wall:\\ninclined wall->Curve:\\nwall Curve:\\nline (2) Curve: line (2) Line:\\nx start->Curve:\\nline (2) Arrow3:\\narrow Arrow3: arrow Axis:\\nx axis->Arrow3:\\narrow Text:\\nlabel Text: label Axis:\\nx axis->Text:\\nlabel Line:\\nline Line: line Arrow3:\\narrow->Line:\\nline Line:\\nhead left Line: head left Arrow3:\\narrow->Line:\\nhead left Line:\\nhead right Line: head right Arrow3:\\narrow->Line:\\nhead right Curve:\\nline (3) Curve: line (3) Line:\\nline->Curve:\\nline (3) Curve:\\nline (4) Curve: line (4) Line:\\nhead left->Curve:\\nline (4) Curve:\\nline (5) Curve: line (5) Line:\\nhead right->Curve:\\nline (5) Curve:\\nline (6) Curve: line (6) Line:\\nground->Curve:\\nline (6) Line:\\narrow (2) Line: arrow (2) Gravity:\\nmg->Line:\\narrow (2) Text:\\ntext (2) Text: text (2) Gravity:\\nmg->Text:\\ntext (2) Curve:\\nline (7) Curve: line (7) Line:\\narrow (2)->Curve:\\nline (7) Arc:\\narc Arc: arc Arc_wText:\\nangle->Arc:\\narc Text:\\ntext (3) Text: text (3) Arc_wText:\\nangle->Text:\\ntext (3) Curve:\\narc Curve: arc Arc:\\narc->Curve:\\narc In [ ]:","title":"DryFriction"},{"location":"resources/DryFriction/#dry-friction-mockup","text":"","title":"Dry Friction mockup"},{"location":"resources/DryFriction/#libraries","text":"In [1]: % matplotlib widget import matplotlib as mpl mpl.rc('text', usetex = True) mpl.rc('font', family = 'serif') In [2]: import time In [3]: from pysketcher import * In [4]: from ipywidgets import FloatSlider , AppLayout , Label , HBox , Button , Output In [5]: from IPython.display import HTML , SVG , display , clear_output In [6]: from math import tan , radians , sin , cos","title":"Libraries"},{"location":"resources/DryFriction/#sketch-container","text":"In [7]: myfig = {}","title":"Sketch container"},{"location":"resources/DryFriction/#sketch-yaml-definition","text":"In [8]: libraries = { 'name' : \"head\" , 'shapes' : \"\"\" \\ libraries: [\"from math import tan, radians, sin, cos\",\"from pysketcher import *\"]\"\"\" } In [9]: constants = { 'name' : \"constants\" , 'shapes' : \"\"\" \\ fontsize: 18 # size of the characters g: 9.81 # constant gravity theta: 30.0 # inclined plane angle L: 10.0 # sketch sizing parameter a: 1.0 # xmin: 0.0 # sketech min Abscissa ymin: -3.0 # sketech min Ordinate rl: 2.0 # rectangle width rL: 1.0 # rectangle length \"\"\" } In [10]: frame = { 'name' : \"frame\" , 'shapes' : \"\"\" \\ setframe: # sketch setup action: \"drawing_tool.set_coordinate_system(xmin=xmin-L/5, xmax=xmin+1.5*L,ymin=ymin, ymax=ymin+1.5*L,instruction_file='tmp_mpl_friction.py')\" setblackline: # default frame values and actions action: \"drawing_tool.set_linecolor('black')\" B: point(a+L,0) # wall right end A: point(a,tan(radians(theta))*L) # wall left end normal_vec: point(sin(radians(theta)),cos(radians(theta))) # Vector normal to wall tangent_vec: point(cos(radians(theta)),-sin(radians(theta))) # Vector tangent to wall help_line: Line(A,B) # wall line x: a + 3*L/10. # contact point Abscissa y: help_line(x=x) # contact point Ordinate contact: point(x, y) # contact point: middle of the rectangle bottom edge c: contact + rL/2*normal_vec \"\"\" } In [11]: body = { 'name' : \"body\" , 'shapes' : \"\"\" \\ rectangle: formula: Rectangle(contact, rl, rL) style: linecolor: blue filled_curves: blue transform: [\"rotate(-theta, contact)\", \"translate(-rl/2*tangent_vec)\"] N: formula: Force(contact - rl*normal_vec, contact, r'$N$', text_pos='start') style: linecolor: black wheel: formula: \"Composition({'outer': rectangle})\" style: shadow: 1 mc: formula: Text(r'$c$', c) body: formula: \"Composition({'wheel': wheel, 'N': N, 'mc': mc})\" style: linecolor: black \"\"\" } In [12]: plan = { 'name' : \"plan\" , 'shapes' : \"\"\" \\ mB: formula: Text(r'$B$',B) mA: formula: Text(r'$A$', A) wall: formula: Wall(x=[A[0], B[0]], y=[A[1], B[1]], thickness=-0.25,transparent=False) style: linecolor: black x_const: formula: Line(contact, contact + point(0,4)) style: linestyle: dotted transform: rotate(-theta, contact) x_axis: formula: \"Axis(start=contact+ 2*rl*normal_vec, length=2*rl,label='$x$', rotation_angle=-theta)\" plan: formula: \"Composition({'body': body, 'inclined wall': wall, 'x start': x_const, 'x axis': x_axis, 'mA': mA, 'mB': mB})\" \"\"\" } In [13]: friction = { 'name' : \"friction\" , 'shapes' : \"\"\" \\ mg: formula: Gravity(c, rl, text='$Mg$') style: linecolor: black angle: formula: \"Arc_wText(r'$<bslash>theta$', center=B, radius=3, start_angle=180-theta, arc_angle=theta, fontsize=fontsize)\" style: linecolor: black linewidth: 1 ground: formula: Line((B[0]-L/10., 0), (B[0]-L/2.,0)) stlye: linecolor: black linestyle: dashed linewidth: 1 friction: formula: \"Composition({'plan': plan, 'ground': ground, 'mg': mg, 'angle': angle})\" \"\"\" }","title":"Sketch yaml definition"},{"location":"resources/DryFriction/#read-yaml-sketch-definition-draw-it","text":"In [14]: if sketchParse ( libraries , myfig ): if sketchParse ( constants , myfig ): if sketchParse ( frame , myfig ): if sketchParse ( body , myfig ): if sketchParse ( plan , myfig ): if sketchParse ( friction , myfig ): print ( \"success\" ) success In [15]: d = myfig [ 'friction' ] . draw () In [16]: drawing_tool . display () In [17]: def doright ( change ): rotate ( - 5 ) def doleft ( change ): rotate ( 5 ) def rotate ( theta ): angle = myfig [ 'theta' ] angle -= theta myfig [ 'theta' ] = angle drawing_tool . erase () x = myfig [ 'plan' ][ 'body' ][ 'mc' ] . x y = myfig [ 'plan' ][ 'body' ][ 'mc' ] . y myfig [ 'plan' ] . rotate ( theta , myfig [ 'B' ]) xf = myfig [ 'plan' ][ 'body' ][ 'mc' ] . x yf = myfig [ 'plan' ][ 'body' ][ 'mc' ] . y trans = point ( xf - x , yf - y ) myfig [ 'angle' ] . changeAngle ( 180 - angle , angle ) myfig [ 'mg' ] . translate ( trans ) myfig [ 'friction' ] . draw () In [18]: left = Button ( description = '' , icon = 'rotate-left' , ) left . on_click ( doleft ) right = Button ( description = '' , icon = 'rotate-right' , ) right . on_click ( doright ) output = Output () In [19]: applayout = AppLayout ( center = output , footer = HBox ([ left , right ]), pane_heights = [ 0 , 6 , 1 ] ) #drawing_tool.mpl.ion() In [20]: applayout var element = $('#91d670eb-7a07-411a-ba89-c018cb4464d9'); {\"model_id\": \"ad61cb79665e4d639cb2a2bce7445c33\", \"version_major\": 2, \"version_minor\": 0} In [21]: with output : clear_output () display ( drawing_tool . mpl . gcf () . canvas )","title":"Read yaml sketch definition, draw it"},{"location":"resources/DryFriction/#turn-it-interactiv","text":"In [22]: drawing_tool . mpl . ion () Use left and right rotation button to rotate the sketch","title":"Turn it interactiv"},{"location":"resources/DryFriction/#simulate-sketch-rotation","text":"","title":"Simulate sketch rotation"},{"location":"resources/DryFriction/#using-svg","text":"In [23]: for i in range ( 0 , 10 ): doright ( None ) clear_output ( wait = True ) display ( SVG ( sketch2SVG ())) time . sleep ( 0.01 ) 2020-08-05T18:54:57.809254 image/svg+xml Matplotlib v3.3.0, https://matplotlib.org/ *{stroke-linecap:butt;stroke-linejoin:round;}","title":"Using SVG"},{"location":"resources/DryFriction/#using-png","text":"In [24]: for i in range ( 0 , 10 ): doright ( None ) clear_output ( wait = True ) display ( sketch2PNG ()) time . sleep ( 0.01 )","title":"Using PNG"},{"location":"resources/DryFriction/#take-a-canvas-snapshot","text":"In [25]: drawing_tool . mpl . gcf () . canvas . print_png ( \"friction.png\" ) from PIL import Image img = Image . open ( \"friction.png\" ) img Out[25]:","title":"take a canvas snapshot"},{"location":"resources/DryFriction/#sketch-composition","text":"In [26]: myfig [ 'friction' ] . graphviz_dot ( 'friction' ) graphviz [('Composition:\\\\nfriction', 'Composition:\\\\nplan'), ('Composition:\\\\nplan', 'Composition:\\\\nbody'), ('Composition:\\\\nbody', 'Composition:\\\\nwheel'), ('Composition:\\\\nwheel', 'Rectangle:\\\\nouter'), ('Rectangle:\\\\nouter', 'Curve:\\\\nrectangle'), ('Composition:\\\\nbody', 'Force:\\\\nN'), ('Force:\\\\nN', 'Line:\\\\narrow'), ('Line:\\\\narrow', 'Curve:\\\\nline'), ('Force:\\\\nN', 'Text:\\\\ntext'), ('Composition:\\\\nbody', 'Text:\\\\nmc'), ('Composition:\\\\nplan', 'Wall:\\\\ninclined wall'), ('Wall:\\\\ninclined wall', 'Curve:\\\\nwall'), ('Composition:\\\\nplan', 'Line:\\\\nx start'), ('Line:\\\\nx start', 'Curve:\\\\nline'), ('Composition:\\\\nplan', 'Axis:\\\\nx axis'), ('Axis:\\\\nx axis', 'Arrow3:\\\\narrow'), ('Arrow3:\\\\narrow', 'Line:\\\\nline'), ('Line:\\\\nline', 'Curve:\\\\nline'), ('Arrow3:\\\\narrow', 'Line:\\\\nhead left'), ('Line:\\\\nhead left', 'Curve:\\\\nline'), ('Arrow3:\\\\narrow', 'Line:\\\\nhead right'), ('Line:\\\\nhead right', 'Curve:\\\\nline'), ('Axis:\\\\nx axis', 'Text:\\\\nlabel'), ('Composition:\\\\nplan', 'Text:\\\\nmA'), ('Composition:\\\\nplan', 'Text:\\\\nmB'), ('Composition:\\\\nfriction', 'Line:\\\\nground'), ('Line:\\\\nground', 'Curve:\\\\nline'), ('Composition:\\\\nfriction', 'Gravity:\\\\nmg'), ('Gravity:\\\\nmg', 'Line:\\\\narrow'), ('Line:\\\\narrow', 'Curve:\\\\nline'), ('Gravity:\\\\nmg', 'Text:\\\\ntext'), ('Composition:\\\\nfriction', 'Arc_wText:\\\\nangle'), ('Arc_wText:\\\\nangle', 'Arc:\\\\narc'), ('Arc:\\\\narc', 'Curve:\\\\narc'), ('Arc_wText:\\\\nangle', 'Text:\\\\ntext')] defaultdict(<function Shape.graphviz_dot.<locals>.<lambda> at 0x00000143A678E550>, {'Composition:\\\\nplan': 1, 'Composition:\\\\nfriction': 0, 'Composition:\\\\nbody': 1, 'Composition:\\\\nwheel': 1, 'Rectangle:\\\\nouter': 1, 'Curve:\\\\nrectangle': 1, 'Force:\\\\nN': 1, 'Line:\\\\narrow': 2, 'Curve:\\\\nline': 7, 'Text:\\\\ntext': 3, 'Text:\\\\nmc': 1, 'Wall:\\\\ninclined wall': 1, 'Curve:\\\\nwall': 1, 'Line:\\\\nx start': 1, 'Axis:\\\\nx axis': 1, 'Arrow3:\\\\narrow': 1, 'Line:\\\\nline': 1, 'Line:\\\\nhead left': 1, 'Line:\\\\nhead right': 1, 'Text:\\\\nlabel': 1, 'Text:\\\\nmA': 1, 'Text:\\\\nmB': 1, 'Line:\\\\nground': 1, 'Gravity:\\\\nmg': 1, 'Arc_wText:\\\\nangle': 1, 'Arc:\\\\narc': 1, 'Curve:\\\\narc': 1}) [('Composition:\\\\nfriction', 'Composition:\\\\nplan'), ('Composition:\\\\nplan', 'Composition:\\\\nbody'), ('Composition:\\\\nbody', 'Composition:\\\\nwheel'), ('Composition:\\\\nwheel', 'Rectangle:\\\\nouter'), ('Rectangle:\\\\nouter', 'Curve:\\\\nrectangle'), ('Composition:\\\\nbody', 'Force:\\\\nN'), ('Force:\\\\nN', 'Line:\\\\narrow (1)'), ('Line:\\\\narrow (1)', 'Curve:\\\\nline (1)'), ('Force:\\\\nN', 'Text:\\\\ntext (1)'), ('Composition:\\\\nbody', 'Text:\\\\nmc'), ('Composition:\\\\nplan', 'Wall:\\\\ninclined wall'), ('Wall:\\\\ninclined wall', 'Curve:\\\\nwall'), ('Composition:\\\\nplan', 'Line:\\\\nx start'), ('Line:\\\\nx start', 'Curve:\\\\nline (2)'), ('Composition:\\\\nplan', 'Axis:\\\\nx axis'), ('Axis:\\\\nx axis', 'Arrow3:\\\\narrow'), ('Arrow3:\\\\narrow', 'Line:\\\\nline'), ('Line:\\\\nline', 'Curve:\\\\nline (3)'), ('Arrow3:\\\\narrow', 'Line:\\\\nhead left'), ('Line:\\\\nhead left', 'Curve:\\\\nline (4)'), ('Arrow3:\\\\narrow', 'Line:\\\\nhead right'), ('Line:\\\\nhead right', 'Curve:\\\\nline (5)'), ('Axis:\\\\nx axis', 'Text:\\\\nlabel'), ('Composition:\\\\nplan', 'Text:\\\\nmA'), ('Composition:\\\\nplan', 'Text:\\\\nmB'), ('Composition:\\\\nfriction', 'Line:\\\\nground'), ('Line:\\\\nground', 'Curve:\\\\nline (6)'), ('Composition:\\\\nfriction', 'Gravity:\\\\nmg'), ('Gravity:\\\\nmg', 'Line:\\\\narrow (2)'), ('Line:\\\\narrow (2)', 'Curve:\\\\nline (7)'), ('Gravity:\\\\nmg', 'Text:\\\\ntext (2)'), ('Composition:\\\\nfriction', 'Arc_wText:\\\\nangle'), ('Arc_wText:\\\\nangle', 'Arc:\\\\narc'), ('Arc:\\\\narc', 'Curve:\\\\narc'), ('Arc_wText:\\\\nangle', 'Text:\\\\ntext (3)')] Run dot -Tpng -o friction.png friction.dot In [27]: ! dot - Tpng - o dotfriction . png friction . dot from PIL import Image img = Image . open ( \"dotfriction.png\" ) img Out[27]: In [28]: ! dot - Tsvg - o dotfriction . svg friction . dot In [29]: display ( SVG ( \"dotfriction.svg\" )) G Composition:\\nfriction Composition: friction Composition:\\nplan Composition: plan Composition:\\nfriction->Composition:\\nplan Line:\\nground Line: ground Composition:\\nfriction->Line:\\nground Gravity:\\nmg Gravity: mg Composition:\\nfriction->Gravity:\\nmg Arc_wText:\\nangle Arc_wText: angle Composition:\\nfriction->Arc_wText:\\nangle Composition:\\nbody Composition: body Composition:\\nplan->Composition:\\nbody Wall:\\ninclined wall Wall: inclined wall Composition:\\nplan->Wall:\\ninclined wall Line:\\nx start Line: x start Composition:\\nplan->Line:\\nx start Axis:\\nx axis Axis: x axis Composition:\\nplan->Axis:\\nx axis Text:\\nmA Text: mA Composition:\\nplan->Text:\\nmA Text:\\nmB Text: mB Composition:\\nplan->Text:\\nmB Composition:\\nwheel Composition: wheel Composition:\\nbody->Composition:\\nwheel Force:\\nN Force: N Composition:\\nbody->Force:\\nN Text:\\nmc Text: mc Composition:\\nbody->Text:\\nmc Rectangle:\\nouter Rectangle: outer Composition:\\nwheel->Rectangle:\\nouter Curve:\\nrectangle Curve: rectangle Rectangle:\\nouter->Curve:\\nrectangle Line:\\narrow (1) Line: arrow (1) Force:\\nN->Line:\\narrow (1) Text:\\ntext (1) Text: text (1) Force:\\nN->Text:\\ntext (1) Curve:\\nline (1) Curve: line (1) Line:\\narrow (1)->Curve:\\nline (1) Curve:\\nwall Curve: wall Wall:\\ninclined wall->Curve:\\nwall Curve:\\nline (2) Curve: line (2) Line:\\nx start->Curve:\\nline (2) Arrow3:\\narrow Arrow3: arrow Axis:\\nx axis->Arrow3:\\narrow Text:\\nlabel Text: label Axis:\\nx axis->Text:\\nlabel Line:\\nline Line: line Arrow3:\\narrow->Line:\\nline Line:\\nhead left Line: head left Arrow3:\\narrow->Line:\\nhead left Line:\\nhead right Line: head right Arrow3:\\narrow->Line:\\nhead right Curve:\\nline (3) Curve: line (3) Line:\\nline->Curve:\\nline (3) Curve:\\nline (4) Curve: line (4) Line:\\nhead left->Curve:\\nline (4) Curve:\\nline (5) Curve: line (5) Line:\\nhead right->Curve:\\nline (5) Curve:\\nline (6) Curve: line (6) Line:\\nground->Curve:\\nline (6) Line:\\narrow (2) Line: arrow (2) Gravity:\\nmg->Line:\\narrow (2) Text:\\ntext (2) Text: text (2) Gravity:\\nmg->Text:\\ntext (2) Curve:\\nline (7) Curve: line (7) Line:\\narrow (2)->Curve:\\nline (7) Arc:\\narc Arc: arc Arc_wText:\\nangle->Arc:\\narc Text:\\ntext (3) Text: text (3) Arc_wText:\\nangle->Text:\\ntext (3) Curve:\\narc Curve: arc Arc:\\narc->Curve:\\narc In [ ]:","title":"Sketch composition"},{"location":"resources/Gallery/","text":"/*! * * IPython notebook * */ /* CSS font colors for translated ANSI escape sequences */ /* The color values are a mix of http://www.xcolors.net/dl/baskerville-ivorylight and http://www.xcolors.net/dl/euphrasia */ .ansi-black-fg { color: #3E424D; } .ansi-black-bg { background-color: #3E424D; } .ansi-black-intense-fg { color: #282C36; } .ansi-black-intense-bg { background-color: #282C36; } .ansi-red-fg { color: #E75C58; } .ansi-red-bg { background-color: #E75C58; } .ansi-red-intense-fg { color: #B22B31; } .ansi-red-intense-bg { background-color: #B22B31; } .ansi-green-fg { color: #00A250; } .ansi-green-bg { background-color: #00A250; } .ansi-green-intense-fg { color: #007427; } .ansi-green-intense-bg { background-color: #007427; } .ansi-yellow-fg { color: #DDB62B; } .ansi-yellow-bg { background-color: #DDB62B; } .ansi-yellow-intense-fg { color: #B27D12; } .ansi-yellow-intense-bg { background-color: #B27D12; } .ansi-blue-fg { color: #208FFB; } .ansi-blue-bg { background-color: #208FFB; } .ansi-blue-intense-fg { color: #0065CA; } .ansi-blue-intense-bg { background-color: #0065CA; } .ansi-magenta-fg { color: #D160C4; } .ansi-magenta-bg { background-color: #D160C4; } .ansi-magenta-intense-fg { color: #A03196; } .ansi-magenta-intense-bg { background-color: #A03196; } .ansi-cyan-fg { color: #60C6C8; } .ansi-cyan-bg { background-color: #60C6C8; } .ansi-cyan-intense-fg { color: #258F8F; } .ansi-cyan-intense-bg { background-color: #258F8F; } .ansi-white-fg { color: #C5C1B4; } .ansi-white-bg { background-color: #C5C1B4; } .ansi-white-intense-fg { color: #A1A6B2; } .ansi-white-intense-bg { background-color: #A1A6B2; } .ansi-default-inverse-fg { color: #FFFFFF; } .ansi-default-inverse-bg { background-color: #000000; } .ansi-bold { font-weight: bold; } .ansi-underline { text-decoration: underline; } /* The following styles are deprecated an will be removed in a future version */ .ansibold { font-weight: bold; } .ansi-inverse { outline: 0.5px dotted; } /* use dark versions for foreground, to improve visibility */ .ansiblack { color: black; } .ansired { color: darkred; } .ansigreen { color: darkgreen; } .ansiyellow { color: #c4a000; } .ansiblue { color: darkblue; } .ansipurple { color: darkviolet; } .ansicyan { color: steelblue; } .ansigray { color: gray; } /* and light for background, for the same reason */ .ansibgblack { background-color: black; } .ansibgred { background-color: red; } .ansibggreen { background-color: green; } .ansibgyellow { background-color: yellow; } .ansibgblue { background-color: blue; } .ansibgpurple { background-color: magenta; } .ansibgcyan { background-color: cyan; } .ansibggray { background-color: gray; } div.cell { /* Old browsers */ display: -webkit-box; -webkit-box-orient: vertical; -webkit-box-align: stretch; display: -moz-box; -moz-box-orient: vertical; -moz-box-align: stretch; display: box; box-orient: vertical; box-align: stretch; /* Modern browsers */ display: flex; flex-direction: column; align-items: stretch; border-radius: 2px; box-sizing: border-box; -moz-box-sizing: border-box; -webkit-box-sizing: border-box; border-width: 1px; border-style: solid; border-color: transparent; width: 100%; padding: 5px; /* This acts as a spacer between cells, that is outside the border */ margin: 0px; outline: none; position: relative; overflow: visible; } div.cell:before { position: absolute; display: block; top: -1px; left: -1px; width: 5px; height: calc(100% + 2px); content: ''; background: transparent; } div.cell.jupyter-soft-selected { border-left-color: #E3F2FD; border-left-width: 1px; padding-left: 5px; border-right-color: #E3F2FD; border-right-width: 1px; background: #E3F2FD; } @media print { div.cell.jupyter-soft-selected { border-color: transparent; } } div.cell.selected, div.cell.selected.jupyter-soft-selected { border-color: #ababab; } div.cell.selected:before, div.cell.selected.jupyter-soft-selected:before { position: absolute; display: block; top: -1px; left: -1px; width: 5px; height: calc(100% + 2px); content: ''; background: #42A5F5; } @media print { div.cell.selected, div.cell.selected.jupyter-soft-selected { border-color: transparent; } } .edit_mode div.cell.selected { border-color: #66BB6A; } .edit_mode div.cell.selected:before { position: absolute; display: block; top: -1px; left: -1px; width: 5px; height: calc(100% + 2px); content: ''; background: #66BB6A; } @media print { .edit_mode div.cell.selected { border-color: transparent; } } .prompt { /* This needs to be wide enough for 3 digit prompt numbers: In[100]: */ min-width: 14ex; /* This padding is tuned to match the padding on the CodeMirror editor. */ padding: 0.4em; margin: 0px; font-family: monospace; text-align: right; /* This has to match that of the the CodeMirror class line-height below */ line-height: 1.21429em; /* Don't highlight prompt number selection */ -webkit-touch-callout: none; -webkit-user-select: none; -khtml-user-select: none; -moz-user-select: none; -ms-user-select: none; user-select: none; /* Use default cursor */ cursor: default; } @media (max-width: 540px) { .prompt { text-align: left; } } div.inner_cell { min-width: 0; /* Old browsers */ display: -webkit-box; -webkit-box-orient: vertical; -webkit-box-align: stretch; display: -moz-box; -moz-box-orient: vertical; -moz-box-align: stretch; display: box; box-orient: vertical; box-align: stretch; /* Modern browsers */ display: flex; flex-direction: column; align-items: stretch; /* Old browsers */ -webkit-box-flex: 1; -moz-box-flex: 1; box-flex: 1; /* Modern browsers */ flex: 1; } /* input_area and input_prompt must match in top border and margin for alignment */ div.input_area { border: 1px solid #cfcfcf; border-radius: 2px; background: #f7f7f7; line-height: 1.21429em; } /* This is needed so that empty prompt areas can collapse to zero height when there is no content in the output_subarea and the prompt. The main purpose of this is to make sure that empty JavaScript output_subareas have no height. */ div.prompt:empty { padding-top: 0; padding-bottom: 0; } div.unrecognized_cell { padding: 5px 5px 5px 0px; /* Old browsers */ display: -webkit-box; -webkit-box-orient: horizontal; -webkit-box-align: stretch; display: -moz-box; -moz-box-orient: horizontal; -moz-box-align: stretch; display: box; box-orient: horizontal; box-align: stretch; /* Modern browsers */ display: flex; flex-direction: row; align-items: stretch; } div.unrecognized_cell .inner_cell { border-radius: 2px; padding: 5px; font-weight: bold; color: red; border: 1px solid #cfcfcf; background: #eaeaea; } div.unrecognized_cell .inner_cell a { color: inherit; text-decoration: none; } div.unrecognized_cell .inner_cell a:hover { color: inherit; text-decoration: none; } @media (max-width: 540px) { div.unrecognized_cell > div.prompt { display: none; } } div.code_cell { /* avoid page breaking on code cells when printing */ } @media print { div.code_cell { page-break-inside: avoid; } } /* any special styling for code cells that are currently running goes here */ div.input { page-break-inside: avoid; /* Old browsers */ display: -webkit-box; -webkit-box-orient: horizontal; -webkit-box-align: stretch; display: -moz-box; -moz-box-orient: horizontal; -moz-box-align: stretch; display: box; box-orient: horizontal; box-align: stretch; /* Modern browsers */ display: flex; flex-direction: row; align-items: stretch; } @media (max-width: 540px) { div.input { /* Old browsers */ display: -webkit-box; -webkit-box-orient: vertical; -webkit-box-align: stretch; display: -moz-box; -moz-box-orient: vertical; -moz-box-align: stretch; display: box; box-orient: vertical; box-align: stretch; /* Modern browsers */ display: flex; flex-direction: column; align-items: stretch; } } /* input_area and input_prompt must match in top border and margin for alignment */ div.input_prompt { color: #303F9F; border-top: 1px solid transparent; } div.input_area > div.highlight { margin: 0.4em; border: none; padding: 0px; background-color: transparent; } div.input_area > div.highlight > pre { margin: 0px; border: none; padding: 0px; background-color: transparent; } /* The following gets added to the <head> if it is detected that the user has a * monospace font with inconsistent normal/bold/italic height. See * notebookmain.js. Such fonts will have keywords vertically offset with * respect to the rest of the text. The user should select a better font. * See: https://github.com/ipython/ipython/issues/1503 * * .CodeMirror span { * vertical-align: bottom; * } */ .CodeMirror { line-height: 1.21429em; /* Changed from 1em to our global default */ font-size: 14px; height: auto; /* Changed to auto to autogrow */ background: none; /* Changed from white to allow our bg to show through */ } .CodeMirror-scroll { /* The CodeMirror docs are a bit fuzzy on if overflow-y should be hidden or visible.*/ /* We have found that if it is visible, vertical scrollbars appear with font size changes.*/ overflow-y: hidden; overflow-x: auto; } .CodeMirror-lines { /* In CM2, this used to be 0.4em, but in CM3 it went to 4px. We need the em value because */ /* we have set a different line-height and want this to scale with that. */ /* Note that this should set vertical padding only, since CodeMirror assumes that horizontal padding will be set on CodeMirror pre */ padding: 0.4em 0; } .CodeMirror-linenumber { padding: 0 8px 0 4px; } .CodeMirror-gutters { border-bottom-left-radius: 2px; border-top-left-radius: 2px; } .CodeMirror pre { /* In CM3 this went to 4px from 0 in CM2. This sets horizontal padding only, use .CodeMirror-lines for vertical */ padding: 0 0.4em; border: 0; border-radius: 0; } .CodeMirror-cursor { border-left: 1.4px solid black; } @media screen and (min-width: 2138px) and (max-width: 4319px) { .CodeMirror-cursor { border-left: 2px solid black; } } @media screen and (min-width: 4320px) { .CodeMirror-cursor { border-left: 4px solid black; } } /* Original style from softwaremaniacs.org (c) Ivan Sagalaev <Maniac@SoftwareManiacs.Org> Adapted from GitHub theme */ .highlight-base { color: #000; } .highlight-variable { color: #000; } .highlight-variable-2 { color: #1a1a1a; } .highlight-variable-3 { color: #333333; } .highlight-string { color: #BA2121; } .highlight-comment { color: #408080; font-style: italic; } .highlight-number { color: #080; } .highlight-atom { color: #88F; } .highlight-keyword { color: #008000; font-weight: bold; } .highlight-builtin { color: #008000; } .highlight-error { color: #f00; } .highlight-operator { color: #AA22FF; font-weight: bold; } .highlight-meta { color: #AA22FF; } /* previously not defined, copying from default codemirror */ .highlight-def { color: #00f; } .highlight-string-2 { color: #f50; } .highlight-qualifier { color: #555; } .highlight-bracket { color: #997; } .highlight-tag { color: #170; } .highlight-attribute { color: #00c; } .highlight-header { color: blue; } .highlight-quote { color: #090; } .highlight-link { color: #00c; } /* apply the same style to codemirror */ .cm-s-ipython span.cm-keyword { color: #008000; font-weight: bold; } .cm-s-ipython span.cm-atom { color: #88F; } .cm-s-ipython span.cm-number { color: #080; } .cm-s-ipython span.cm-def { color: #00f; } .cm-s-ipython span.cm-variable { color: #000; } .cm-s-ipython span.cm-operator { color: #AA22FF; font-weight: bold; } .cm-s-ipython span.cm-variable-2 { color: #1a1a1a; } .cm-s-ipython span.cm-variable-3 { color: #333333; } .cm-s-ipython span.cm-comment { color: #408080; font-style: italic; } .cm-s-ipython span.cm-string { color: #BA2121; } .cm-s-ipython span.cm-string-2 { color: #f50; } .cm-s-ipython span.cm-meta { color: #AA22FF; } .cm-s-ipython span.cm-qualifier { color: #555; } .cm-s-ipython span.cm-builtin { color: #008000; } .cm-s-ipython span.cm-bracket { color: #997; } .cm-s-ipython span.cm-tag { color: #170; } .cm-s-ipython span.cm-attribute { color: #00c; } .cm-s-ipython span.cm-header { color: blue; } .cm-s-ipython span.cm-quote { color: #090; } .cm-s-ipython span.cm-link { color: #00c; } .cm-s-ipython span.cm-error { color: #f00; } .cm-s-ipython span.cm-tab { background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAMCAYAAAAkuj5RAAAAAXNSR0IArs4c6QAAAGFJREFUSMft1LsRQFAQheHPowAKoACx3IgEKtaEHujDjORSgWTH/ZOdnZOcM/sgk/kFFWY0qV8foQwS4MKBCS3qR6ixBJvElOobYAtivseIE120FaowJPN75GMu8j/LfMwNjh4HUpwg4LUAAAAASUVORK5CYII=); background-position: right; background-repeat: no-repeat; } div.output_wrapper { /* this position must be relative to enable descendents to be absolute within it */ position: relative; /* Old browsers */ display: -webkit-box; -webkit-box-orient: vertical; -webkit-box-align: stretch; display: -moz-box; -moz-box-orient: vertical; -moz-box-align: stretch; display: box; box-orient: vertical; box-align: stretch; /* Modern browsers */ display: flex; flex-direction: column; align-items: stretch; z-index: 1; } /* class for the output area when it should be height-limited */ div.output_scroll { /* ideally, this would be max-height, but FF barfs all over that */ height: 24em; /* FF needs this *and the wrapper* to specify full width, or it will shrinkwrap */ width: 100%; overflow: auto; border-radius: 2px; -webkit-box-shadow: inset 0 2px 8px rgba(0, 0, 0, 0.8); box-shadow: inset 0 2px 8px rgba(0, 0, 0, 0.8); display: block; } /* output div while it is collapsed */ div.output_collapsed { margin: 0px; padding: 0px; /* Old browsers */ display: -webkit-box; -webkit-box-orient: vertical; -webkit-box-align: stretch; display: -moz-box; -moz-box-orient: vertical; -moz-box-align: stretch; display: box; box-orient: vertical; box-align: stretch; /* Modern browsers */ display: flex; flex-direction: column; align-items: stretch; } div.out_prompt_overlay { height: 100%; padding: 0px 0.4em; position: absolute; border-radius: 2px; } div.out_prompt_overlay:hover { /* use inner shadow to get border that is computed the same on WebKit/FF */ -webkit-box-shadow: inset 0 0 1px #000; box-shadow: inset 0 0 1px #000; background: rgba(240, 240, 240, 0.5); } div.output_prompt { color: #D84315; } /* This class is the outer container of all output sections. */ div.output_area { padding: 0px; page-break-inside: avoid; /* Old browsers */ display: -webkit-box; -webkit-box-orient: horizontal; -webkit-box-align: stretch; display: -moz-box; -moz-box-orient: horizontal; -moz-box-align: stretch; display: box; box-orient: horizontal; box-align: stretch; /* Modern browsers */ display: flex; flex-direction: row; align-items: stretch; } div.output_area .MathJax_Display { text-align: left !important; } div.output_area div.output_area div.output_area img, div.output_area svg { max-width: 100%; height: auto; } div.output_area img.unconfined, div.output_area svg.unconfined { max-width: none; } div.output_area .mglyph > img { max-width: none; } /* This is needed to protect the pre formating from global settings such as that of bootstrap */ .output { /* Old browsers */ display: -webkit-box; -webkit-box-orient: vertical; -webkit-box-align: stretch; display: -moz-box; -moz-box-orient: vertical; -moz-box-align: stretch; display: box; box-orient: vertical; box-align: stretch; /* Modern browsers */ display: flex; flex-direction: column; align-items: stretch; } @media (max-width: 540px) { div.output_area { /* Old browsers */ display: -webkit-box; -webkit-box-orient: vertical; -webkit-box-align: stretch; display: -moz-box; -moz-box-orient: vertical; -moz-box-align: stretch; display: box; box-orient: vertical; box-align: stretch; /* Modern browsers */ display: flex; flex-direction: column; align-items: stretch; } } div.output_area pre { margin: 0; padding: 1px 0 1px 0; border: 0; vertical-align: baseline; color: black; background-color: transparent; border-radius: 0; } /* This class is for the output subarea inside the output_area and after the prompt div. */ div.output_subarea { overflow-x: auto; padding: 0.4em; /* Old browsers */ -webkit-box-flex: 1; -moz-box-flex: 1; box-flex: 1; /* Modern browsers */ flex: 1; max-width: calc(100% - 14ex); } div.output_scroll div.output_subarea { overflow-x: visible; } /* The rest of the output_* classes are for special styling of the different output types */ /* all text output has this class: */ div.output_text { text-align: left; color: #000; /* This has to match that of the the CodeMirror class line-height below */ line-height: 1.21429em; } /* stdout/stderr are 'text' as well as 'stream', but execute_result/error are *not* streams */ div.output_stderr { background: #fdd; /* very light red background for stderr */ } div.output_latex { text-align: left; } /* Empty output_javascript divs should have no height */ div.output_javascript:empty { padding: 0; } .js-error { color: darkred; } /* raw_input styles */ div.raw_input_container { line-height: 1.21429em; padding-top: 5px; } pre.raw_input_prompt { /* nothing needed here. */ } input.raw_input { font-family: monospace; font-size: inherit; color: inherit; width: auto; /* make sure input baseline aligns with prompt */ vertical-align: baseline; /* padding + margin = 0.5em between prompt and cursor */ padding: 0em 0.25em; margin: 0em 0.25em; } input.raw_input:focus { box-shadow: none; } p.p-space { margin-bottom: 10px; } div.output_unrecognized { padding: 5px; font-weight: bold; color: red; } div.output_unrecognized a { color: inherit; text-decoration: none; } div.output_unrecognized a:hover { color: inherit; text-decoration: none; } .rendered_html { color: #000; /* any extras will just be numbers: */ } .rendered_html :link { text-decoration: underline; } .rendered_html :visited { text-decoration: underline; } .rendered_html h1:first-child { margin-top: 0.538em; } .rendered_html h2:first-child { margin-top: 0.636em; } .rendered_html h3:first-child { margin-top: 0.777em; } .rendered_html h4:first-child { margin-top: 1em; } .rendered_html h5:first-child { margin-top: 1em; } .rendered_html h6:first-child { margin-top: 1em; } .rendered_html ul:not(.list-inline), .rendered_html ol:not(.list-inline) { padding-left: 2em; } .rendered_html * + ul { margin-top: 1em; } .rendered_html * + ol { margin-top: 1em; } .rendered_html pre, .rendered_html tr, .rendered_html th, .rendered_html tbody tr:nth-child(odd) { background: #f5f5f5; } .rendered_html tbody tr:hover { background: rgba(66, 165, 245, 0.2); } .rendered_html * + table { margin-top: 1em; } .rendered_html * + p { margin-top: 1em; } .rendered_html * + img { margin-top: 1em; } .rendered_html img, .rendered_html img.unconfined, .rendered_html * + .alert { margin-top: 1em; } [dir=\"rtl\"] div.text_cell { /* Old browsers */ display: -webkit-box; -webkit-box-orient: horizontal; -webkit-box-align: stretch; display: -moz-box; -moz-box-orient: horizontal; -moz-box-align: stretch; display: box; box-orient: horizontal; box-align: stretch; /* Modern browsers */ display: flex; flex-direction: row; align-items: stretch; } @media (max-width: 540px) { div.text_cell > div.prompt { display: none; } } div.text_cell_render { /*font-family: \"Helvetica Neue\", Arial, Helvetica, Geneva, sans-serif;*/ outline: none; resize: none; width: inherit; border-style: none; padding: 0.5em 0.5em 0.5em 0.4em; color: #000; box-sizing: border-box; -moz-box-sizing: border-box; -webkit-box-sizing: border-box; } a.anchor-link:link { text-decoration: none; padding: 0px 20px; visibility: hidden; } h1:hover .anchor-link, h2:hover .anchor-link, h3:hover .anchor-link, h4:hover .anchor-link, h5:hover .anchor-link, h6:hover .anchor-link { visibility: visible; } .text_cell.rendered .input_area { display: none; } .text_cell.rendered .text_cell.rendered .rendered_html tr, .text_cell.rendered .rendered_html th, .text_cell.rendered .text_cell.unrendered .text_cell_render { display: none; } .text_cell .dropzone .input_area { border: 2px dashed #bababa; margin: -1px; } .cm-header-1, .cm-header-2, .cm-header-3, .cm-header-4, .cm-header-5, .cm-header-6 { font-weight: bold; font-family: \"Helvetica Neue\", Helvetica, Arial, sans-serif; } .cm-header-1 { font-size: 185.7%; } .cm-header-2 { font-size: 157.1%; } .cm-header-3 { font-size: 128.6%; } .cm-header-4 { font-size: 110%; } .cm-header-5 { font-size: 100%; font-style: italic; } .cm-header-6 { font-size: 100%; font-style: italic; } .highlight-ipynb .hll { background-color: #ffffcc } .highlight-ipynb { background: #f8f8f8; } .highlight-ipynb .c { color: #408080; font-style: italic } /* Comment */ .highlight-ipynb .err { border: 1px solid #FF0000 } /* Error */ .highlight-ipynb .k { color: #008000; font-weight: bold } /* Keyword */ .highlight-ipynb .o { color: #666666 } /* Operator */ .highlight-ipynb .ch { color: #408080; font-style: italic } /* Comment.Hashbang */ .highlight-ipynb .cm { color: #408080; font-style: italic } /* Comment.Multiline */ .highlight-ipynb .cp { color: #BC7A00 } /* Comment.Preproc */ .highlight-ipynb .cpf { color: #408080; font-style: italic } /* Comment.PreprocFile */ .highlight-ipynb .c1 { color: #408080; font-style: italic } /* Comment.Single */ .highlight-ipynb .cs { color: #408080; font-style: italic } /* Comment.Special */ .highlight-ipynb .gd { color: #A00000 } /* Generic.Deleted */ .highlight-ipynb .ge { font-style: italic } /* Generic.Emph */ .highlight-ipynb .gr { color: #FF0000 } /* Generic.Error */ .highlight-ipynb .gh { color: #000080; font-weight: bold } /* Generic.Heading */ .highlight-ipynb .gi { color: #00A000 } /* Generic.Inserted */ .highlight-ipynb .go { color: #888888 } /* Generic.Output */ .highlight-ipynb .gp { color: #000080; font-weight: bold } /* Generic.Prompt */ .highlight-ipynb .gs { font-weight: bold } /* Generic.Strong */ .highlight-ipynb .gu { color: #800080; font-weight: bold } /* Generic.Subheading */ .highlight-ipynb .gt { color: #0044DD } /* Generic.Traceback */ .highlight-ipynb .kc { color: #008000; font-weight: bold } /* Keyword.Constant */ .highlight-ipynb .kd { color: #008000; font-weight: bold } /* Keyword.Declaration */ .highlight-ipynb .kn { color: #008000; font-weight: bold } /* Keyword.Namespace */ .highlight-ipynb .kp { color: #008000 } /* Keyword.Pseudo */ .highlight-ipynb .kr { color: #008000; font-weight: bold } /* Keyword.Reserved */ .highlight-ipynb .kt { color: #B00040 } /* Keyword.Type */ .highlight-ipynb .m { color: #666666 } /* Literal.Number */ .highlight-ipynb .s { color: #BA2121 } /* Literal.String */ .highlight-ipynb .na { color: #7D9029 } /* Name.Attribute */ .highlight-ipynb .nb { color: #008000 } /* Name.Builtin */ .highlight-ipynb .nc { color: #0000FF; font-weight: bold } /* Name.Class */ .highlight-ipynb .no { color: #880000 } /* Name.Constant */ .highlight-ipynb .nd { color: #AA22FF } /* Name.Decorator */ .highlight-ipynb .ni { color: #999999; font-weight: bold } /* Name.Entity */ .highlight-ipynb .ne { color: #D2413A; font-weight: bold } /* Name.Exception */ .highlight-ipynb .nf { color: #0000FF } /* Name.Function */ .highlight-ipynb .nl { color: #A0A000 } /* Name.Label */ .highlight-ipynb .nn { color: #0000FF; font-weight: bold } /* Name.Namespace */ .highlight-ipynb .nt { color: #008000; font-weight: bold } /* Name.Tag */ .highlight-ipynb .nv { color: #19177C } /* Name.Variable */ .highlight-ipynb .ow { color: #AA22FF; font-weight: bold } /* Operator.Word */ .highlight-ipynb .w { color: #bbbbbb } /* Text.Whitespace */ .highlight-ipynb .mb { color: #666666 } /* Literal.Number.Bin */ .highlight-ipynb .mf { color: #666666 } /* Literal.Number.Float */ .highlight-ipynb .mh { color: #666666 } /* Literal.Number.Hex */ .highlight-ipynb .mi { color: #666666 } /* Literal.Number.Integer */ .highlight-ipynb .mo { color: #666666 } /* Literal.Number.Oct */ .highlight-ipynb .sa { color: #BA2121 } /* Literal.String.Affix */ .highlight-ipynb .sb { color: #BA2121 } /* Literal.String.Backtick */ .highlight-ipynb .sc { color: #BA2121 } /* Literal.String.Char */ .highlight-ipynb .dl { color: #BA2121 } /* Literal.String.Delimiter */ .highlight-ipynb .sd { color: #BA2121; font-style: italic } /* Literal.String.Doc */ .highlight-ipynb .s2 { color: #BA2121 } /* Literal.String.Double */ .highlight-ipynb .se { color: #BB6622; font-weight: bold } /* Literal.String.Escape */ .highlight-ipynb .sh { color: #BA2121 } /* Literal.String.Heredoc */ .highlight-ipynb .si { color: #BB6688; font-weight: bold } /* Literal.String.Interpol */ .highlight-ipynb .sx { color: #008000 } /* Literal.String.Other */ .highlight-ipynb .sr { color: #BB6688 } /* Literal.String.Regex */ .highlight-ipynb .s1 { color: #BA2121 } /* Literal.String.Single */ .highlight-ipynb .ss { color: #19177C } /* Literal.String.Symbol */ .highlight-ipynb .bp { color: #008000 } /* Name.Builtin.Pseudo */ .highlight-ipynb .fm { color: #0000FF } /* Name.Function.Magic */ .highlight-ipynb .vc { color: #19177C } /* Name.Variable.Class */ .highlight-ipynb .vg { color: #19177C } /* Name.Variable.Global */ .highlight-ipynb .vi { color: #19177C } /* Name.Variable.Instance */ .highlight-ipynb .vm { color: #19177C } /* Name.Variable.Magic */ .highlight-ipynb .il { color: #666666 } /* Literal.Number.Integer.Long */ .rendered_html a{text-decoration:inherit !important}.rendered_html :link{text-decoration:inherit !important}.rendered_html :visited{text-decoration:inherit !important}pre code{background-color:inherit !important}.highlight{color:#000000}.highlight code{color:#000000}.highlight .n{color:#333333}.highlight .p{color:#000000}.text_cell .prompt{display:none !important}div.input_prompt{padding:0.2em 0.4em}div.output_prompt{padding:0.4em}.text_cell{margin:0 !important;padding:0 !important;border:none !important}.text_cell_render{margin:0 !important;padding:0 !important;border:none !important}.rendered_html *+p{margin-top:inherit !important}.anchor-link{display:none !important}.code_cell{margin:0 !important;padding:5px 0 !important;border:none !important}.celltoolbar{border:thin solid #CFCFCF;border-bottom:none;background:#EEE;border-radius:2px 2px 0px 0px;width:100%;height:29px;padding-right:4px;box-orient:horizontal;box-align:stretch;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row;-webkit-box-align:stretch;-ms-flex-align:stretch;align-items:stretch;box-pack:end;-webkit-box-pack:start;-ms-flex-pack:start;justify-content:flex-start;display:-webkit-flex}.celltoolbar .tags_button_container{display:-webkit-box;display:-ms-flexbox;display:flex}.celltoolbar .tags_button_container .tag-container{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row;-webkit-box-flex:1;-ms-flex-positive:1;flex-grow:1;overflow:hidden;position:relative}.celltoolbar .tags_button_container .tag-container .cell-tag{background-color:#fff;white-space:nowrap;margin:3px 4px;padding:0 4px;border-radius:1px;border:1px solid #ccc;-webkit-box-shadow:none;box-shadow:none;width:inherit;font-size:13px;font-family:\"Helvetica Neue\", Helvetica, Arial, sans-serif;height:22px;line-height:22px;display:inline-block}div.input_area>div.highlight{margin:0.25em 0.4em !important}.code_cell pre{font-size:12px !important}.output_html table.dataframe{font-family:Arial, sans-serif;font-size:13px;line-height:20px}.output_html table.dataframe th,td{padding:4px;text-align:left}.bk-plot-wrapper tbody tr{background:none !important}.bk-plot-wrapper tbody tr:hover{background:none !important} /*# sourceMappingURL=jupyter-fixes.min.css.map */ MathJax.Hub.Config({ tex2jax: { inlineMath: [ ['$','$'], [\"\\\\(\",\"\\\\)\"] ], displayMath: [ ['$$','$$'], [\"\\\\[\",\"\\\\]\"] ], processEscapes: true, processEnvironments: true }, // Center justify equations in code and markdown cells. Elsewhere // we use CSS to left justify single line equations in code cells. displayAlign: 'center', \"HTML-CSS\": { styles: {'.MathJax_Display': {\"margin\": 0}}, linebreaks: { automatic: true } } }); Gallery \u00b6 In [1]: % matplotlib widget In [2]: from ipywidgets import HBox , VBox , Output , Label In [3]: url = \"https://raw.githubusercontent.com/gbrault/jupytersketches/master/\" In [4]: gallery = Output () gallery var element = $('#11290a74-68ce-46ca-9096-01a77a326783'); {\"version_major\": 2, \"version_minor\": 0, \"model_id\": \"52ea7cdf6d824834862f556af8859788\"} In [5]: from pysketcher import * In [6]: import time In [7]: from IPython.display import HTML , SVG , display , clear_output In [8]: files = [( \"dryfriction\" , \"friction\" ),( \"pendulum\" , \"pendulum\" ), ( \"car\" , \"car\" ),( \"springmass\" , \"springmass\" ), ( \"springdashpotmass\" , \"springdashpotmass\" ),( \"jet_pump\" , \"jet_pump\" )] In [9]: i = 0 horiz = [] vert = [] outputs = [ Output () for file in files ] for output in outputs : if i == 3 : vert . append ( HBox ( horiz )) horiz = [ output ] i = 0 else : i += 1 horiz . append ( output ) if i >= 0 and i < 3 : vert . append ( HBox ( horiz )) with gallery : display ( VBox ( vert )) i = 0 for file in files : sketch = Sketch ({}) sketch . url2Sketch ( url + file [ 0 ] + \".yml\" ) drawing_tool . erase () sketch . container [ file [ 1 ]] . draw () link = f \"<a target= \\\" _blank \\\" href= \\\" { url + file [ 0 ] + '.yml' } \\\" ><h3> { file [ 0 ] } </h3></a>\" with outputs [ i ]: clear_output ( wait = True ) display ( HTML ( link ), SVG ( Sketch . matplotlib2SVG ())) i += 1 time . sleep ( 0.1 ) In [ ]:","title":"Gallery"},{"location":"resources/Gallery/#gallery","text":"In [1]: % matplotlib widget In [2]: from ipywidgets import HBox , VBox , Output , Label In [3]: url = \"https://raw.githubusercontent.com/gbrault/jupytersketches/master/\" In [4]: gallery = Output () gallery var element = $('#11290a74-68ce-46ca-9096-01a77a326783'); {\"version_major\": 2, \"version_minor\": 0, \"model_id\": \"52ea7cdf6d824834862f556af8859788\"} In [5]: from pysketcher import * In [6]: import time In [7]: from IPython.display import HTML , SVG , display , clear_output In [8]: files = [( \"dryfriction\" , \"friction\" ),( \"pendulum\" , \"pendulum\" ), ( \"car\" , \"car\" ),( \"springmass\" , \"springmass\" ), ( \"springdashpotmass\" , \"springdashpotmass\" ),( \"jet_pump\" , \"jet_pump\" )] In [9]: i = 0 horiz = [] vert = [] outputs = [ Output () for file in files ] for output in outputs : if i == 3 : vert . append ( HBox ( horiz )) horiz = [ output ] i = 0 else : i += 1 horiz . append ( output ) if i >= 0 and i < 3 : vert . append ( HBox ( horiz )) with gallery : display ( VBox ( vert )) i = 0 for file in files : sketch = Sketch ({}) sketch . url2Sketch ( url + file [ 0 ] + \".yml\" ) drawing_tool . erase () sketch . container [ file [ 1 ]] . draw () link = f \"<a target= \\\" _blank \\\" href= \\\" { url + file [ 0 ] + '.yml' } \\\" ><h3> { file [ 0 ] } </h3></a>\" with outputs [ i ]: clear_output ( wait = True ) display ( HTML ( link ), SVG ( Sketch . matplotlib2SVG ())) i += 1 time . sleep ( 0.1 ) In [ ]:","title":"Gallery"}]}